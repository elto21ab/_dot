var Ni=Object.create;var Sr=Object.defineProperty;var $i=Object.getOwnPropertyDescriptor;var xi=Object.getOwnPropertyNames;var Ui=Object.getPrototypeOf,ji=Object.prototype.hasOwnProperty;var vt=(a,n)=>()=>(a&&(n=a(a=0)),n);var fn=(a,n)=>()=>(n||a((n={exports:{}}).exports,n),n.exports),qo=(a,n)=>{for(var o in n)Sr(a,o,{get:n[o],enumerable:!0})},Fo=(a,n,o,s)=>{if(n&&typeof n=="object"||typeof n=="function")for(let l of xi(n))!ji.call(a,l)&&l!==o&&Sr(a,l,{get:()=>n[l],enumerable:!(s=$i(n,l))||s.enumerable});return a};var Fe=(a,n,o)=>(o=a!=null?Ni(Ui(a)):{},Fo(n||!a||!a.__esModule?Sr(o,"default",{value:a,enumerable:!0}):o,a)),Hi=a=>Fo(Sr({},"__esModule",{value:!0}),a);var zo=fn((_r,Io)=>{(function(a,n){typeof _r=="object"&&typeof Io<"u"?n(_r):typeof define=="function"&&define.amd?define(["exports"],n):(a=typeof globalThis<"u"?globalThis:a||self,n(a.WebStreamsPolyfill={}))})(_r,function(a){"use strict";let n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol:e=>`Symbol(${e})`;function o(){}function s(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global}let l=s();function f(e){return typeof e=="object"&&e!==null||typeof e=="function"}let d=o,R=Promise,y=Promise.prototype.then,b=Promise.resolve.bind(R),v=Promise.reject.bind(R);function D(e){return new R(e)}function S(e){return b(e)}function p(e){return v(e)}function m(e,t,r){return y.call(e,t,r)}function q(e,t,r){m(m(e,t,r),void 0,d)}function E(e,t){q(e,t)}function k(e,t){q(e,void 0,t)}function F(e,t,r){return m(e,t,r)}function U(e){m(e,void 0,d)}let _=(()=>{let e=l&&l.queueMicrotask;if(typeof e=="function")return e;let t=S(void 0);return r=>m(t,r)})();function x(e,t,r){if(typeof e!="function")throw new TypeError("Argument is not a function");return Function.prototype.apply.call(e,t,r)}function z(e,t,r){try{return S(x(e,t,r))}catch(i){return p(i)}}let me=16384;class G{constructor(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}get length(){return this._size}push(t){let r=this._back,i=r;r._elements.length===me-1&&(i={_elements:[],_next:void 0}),r._elements.push(t),i!==r&&(this._back=i,r._next=i),++this._size}shift(){let t=this._front,r=t,i=this._cursor,u=i+1,c=t._elements,h=c[i];return u===me&&(r=t._next,u=0),--this._size,this._cursor=u,t!==r&&(this._front=r),c[i]=void 0,h}forEach(t){let r=this._cursor,i=this._front,u=i._elements;for(;(r!==u.length||i._next!==void 0)&&!(r===u.length&&(i=i._next,u=i._elements,r=0,u.length===0));)t(u[r]),++r}peek(){let t=this._front,r=this._cursor;return t._elements[r]}}function zt(e,t){e._ownerReadableStream=t,t._reader=e,t._state==="readable"?ct(e):t._state==="closed"?qr(e):Mt(e,t._storedError)}function ft(e,t){let r=e._ownerReadableStream;return ue(r,t)}function oe(e){e._ownerReadableStream._state==="readable"?Qe(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):Fr(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),e._ownerReadableStream._reader=void 0,e._ownerReadableStream=void 0}function ge(e){return new TypeError("Cannot "+e+" a stream using a released reader")}function ct(e){e._closedPromise=D((t,r)=>{e._closedPromise_resolve=t,e._closedPromise_reject=r})}function Mt(e,t){ct(e),Qe(e,t)}function qr(e){ct(e),Nt(e)}function Qe(e,t){e._closedPromise_reject!==void 0&&(U(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}function Fr(e,t){Mt(e,t)}function Nt(e){e._closedPromise_resolve!==void 0&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}let C=n("[[AbortSteps]]"),P=n("[[ErrorSteps]]"),A=n("[[CancelSteps]]"),H=n("[[PullSteps]]"),Y=Number.isFinite||function(e){return typeof e=="number"&&isFinite(e)},Pe=Math.trunc||function(e){return e<0?Math.ceil(e):Math.floor(e)};function dt(e){return typeof e=="object"||typeof e=="function"}function Se(e,t){if(e!==void 0&&!dt(e))throw new TypeError(`${t} is not an object.`)}function se(e,t){if(typeof e!="function")throw new TypeError(`${t} is not a function.`)}function Sa(e){return typeof e=="object"&&e!==null||typeof e=="function"}function Tn(e,t){if(!Sa(e))throw new TypeError(`${t} is not an object.`)}function _e(e,t,r){if(e===void 0)throw new TypeError(`Parameter ${t} is required in '${r}'.`)}function Lr(e,t,r){if(e===void 0)throw new TypeError(`${t} is required in '${r}'.`)}function Ir(e){return Number(e)}function En(e){return e===0?0:e}function _a(e){return En(Pe(e))}function An(e,t){let i=Number.MAX_SAFE_INTEGER,u=Number(e);if(u=En(u),!Y(u))throw new TypeError(`${t} is not a finite number`);if(u=_a(u),u<0||u>i)throw new TypeError(`${t} is outside the accepted range of 0 to ${i}, inclusive`);return!Y(u)||u===0?0:u}function zr(e,t){if(!Oe(e))throw new TypeError(`${t} is not a ReadableStream.`)}function Ge(e){return new ht(e)}function Pn(e,t){e._reader._readRequests.push(t)}function Mr(e,t,r){let u=e._reader._readRequests.shift();r?u._closeSteps():u._chunkSteps(t)}function $t(e){return e._reader._readRequests.length}function vn(e){let t=e._reader;return!(t===void 0||!ve(t))}class ht{constructor(t){if(_e(t,1,"ReadableStreamDefaultReader"),zr(t,"First parameter"),We(t))throw new TypeError("This stream has already been locked for exclusive reading by another reader");zt(this,t),this._readRequests=new G}get closed(){return ve(this)?this._closedPromise:p(xt("closed"))}cancel(t=void 0){return ve(this)?this._ownerReadableStream===void 0?p(ge("cancel")):ft(this,t):p(xt("cancel"))}read(){if(!ve(this))return p(xt("read"));if(this._ownerReadableStream===void 0)return p(ge("read from"));let t,r,i=D((c,h)=>{t=c,r=h});return mt(this,{_chunkSteps:c=>t({value:c,done:!1}),_closeSteps:()=>t({value:void 0,done:!0}),_errorSteps:c=>r(c)}),i}releaseLock(){if(!ve(this))throw xt("releaseLock");if(this._ownerReadableStream!==void 0){if(this._readRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");oe(this)}}}Object.defineProperties(ht.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),typeof n.toStringTag=="symbol"&&Object.defineProperty(ht.prototype,n.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0});function ve(e){return!f(e)||!Object.prototype.hasOwnProperty.call(e,"_readRequests")?!1:e instanceof ht}function mt(e,t){let r=e._ownerReadableStream;r._disturbed=!0,r._state==="closed"?t._closeSteps():r._state==="errored"?t._errorSteps(r._storedError):r._readableStreamController[H](t)}function xt(e){return new TypeError(`ReadableStreamDefaultReader.prototype.${e} can only be used on a ReadableStreamDefaultReader`)}let Bn=Object.getPrototypeOf(Object.getPrototypeOf(async function*(){}).prototype);class Dn{constructor(t,r){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=t,this._preventCancel=r}next(){let t=()=>this._nextSteps();return this._ongoingPromise=this._ongoingPromise?F(this._ongoingPromise,t,t):t(),this._ongoingPromise}return(t){let r=()=>this._returnSteps(t);return this._ongoingPromise?F(this._ongoingPromise,r,r):r()}_nextSteps(){if(this._isFinished)return Promise.resolve({value:void 0,done:!0});let t=this._reader;if(t._ownerReadableStream===void 0)return p(ge("iterate"));let r,i,u=D((h,g)=>{r=h,i=g});return mt(t,{_chunkSteps:h=>{this._ongoingPromise=void 0,_(()=>r({value:h,done:!1}))},_closeSteps:()=>{this._ongoingPromise=void 0,this._isFinished=!0,oe(t),r({value:void 0,done:!0})},_errorSteps:h=>{this._ongoingPromise=void 0,this._isFinished=!0,oe(t),i(h)}}),u}_returnSteps(t){if(this._isFinished)return Promise.resolve({value:t,done:!0});this._isFinished=!0;let r=this._reader;if(r._ownerReadableStream===void 0)return p(ge("finish iterating"));if(!this._preventCancel){let i=ft(r,t);return oe(r),F(i,()=>({value:t,done:!0}))}return oe(r),S({value:t,done:!0})}}let kn={next(){return On(this)?this._asyncIteratorImpl.next():p(Wn("next"))},return(e){return On(this)?this._asyncIteratorImpl.return(e):p(Wn("return"))}};Bn!==void 0&&Object.setPrototypeOf(kn,Bn);function wa(e,t){let r=Ge(e),i=new Dn(r,t),u=Object.create(kn);return u._asyncIteratorImpl=i,u}function On(e){if(!f(e)||!Object.prototype.hasOwnProperty.call(e,"_asyncIteratorImpl"))return!1;try{return e._asyncIteratorImpl instanceof Dn}catch{return!1}}function Wn(e){return new TypeError(`ReadableStreamAsyncIterator.${e} can only be used on a ReadableSteamAsyncIterator`)}let qn=Number.isNaN||function(e){return e!==e};function pt(e){return e.slice()}function Fn(e,t,r,i,u){new Uint8Array(e).set(new Uint8Array(r,i,u),t)}function gs(e){return e}function Ut(e){return!1}function Ln(e,t,r){if(e.slice)return e.slice(t,r);let i=r-t,u=new ArrayBuffer(i);return Fn(u,0,e,t,i),u}function Ra(e){return!(typeof e!="number"||qn(e)||e<0)}function In(e){let t=Ln(e.buffer,e.byteOffset,e.byteOffset+e.byteLength);return new Uint8Array(t)}function Nr(e){let t=e._queue.shift();return e._queueTotalSize-=t.size,e._queueTotalSize<0&&(e._queueTotalSize=0),t.value}function $r(e,t,r){if(!Ra(r)||r===1/0)throw new RangeError("Size must be a finite, non-NaN, non-negative number.");e._queue.push({value:t,size:r}),e._queueTotalSize+=r}function Ca(e){return e._queue.peek().value}function Be(e){e._queue=new G,e._queueTotalSize=0}class bt{constructor(){throw new TypeError("Illegal constructor")}get view(){if(!xr(this))throw Vr("view");return this._view}respond(t){if(!xr(this))throw Vr("respond");if(_e(t,1,"respond"),t=An(t,"First parameter"),this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");Ut(this._view.buffer),Qt(this._associatedReadableByteStreamController,t)}respondWithNewView(t){if(!xr(this))throw Vr("respondWithNewView");if(_e(t,1,"respondWithNewView"),!ArrayBuffer.isView(t))throw new TypeError("You can only respond with array buffer views");if(this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");Ut(t.buffer),Gt(this._associatedReadableByteStreamController,t)}}Object.defineProperties(bt.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),typeof n.toStringTag=="symbol"&&Object.defineProperty(bt.prototype,n.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});class Je{constructor(){throw new TypeError("Illegal constructor")}get byobRequest(){if(!Ie(this))throw gt("byobRequest");return Hr(this)}get desiredSize(){if(!Ie(this))throw gt("desiredSize");return Hn(this)}close(){if(!Ie(this))throw gt("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");let t=this._controlledReadableByteStream._state;if(t!=="readable")throw new TypeError(`The stream (in ${t} state) is not in the readable state and cannot be closed`);yt(this)}enqueue(t){if(!Ie(this))throw gt("enqueue");if(_e(t,1,"enqueue"),!ArrayBuffer.isView(t))throw new TypeError("chunk must be an array buffer view");if(t.byteLength===0)throw new TypeError("chunk must have non-zero byteLength");if(t.buffer.byteLength===0)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");let r=this._controlledReadableByteStream._state;if(r!=="readable")throw new TypeError(`The stream (in ${r} state) is not in the readable state and cannot be enqueued to`);Yt(this,t)}error(t=void 0){if(!Ie(this))throw gt("error");le(this,t)}[A](t){zn(this),Be(this);let r=this._cancelAlgorithm(t);return Vt(this),r}[H](t){let r=this._controlledReadableByteStream;if(this._queueTotalSize>0){let u=this._queue.shift();this._queueTotalSize-=u.byteLength,xn(this);let c=new Uint8Array(u.buffer,u.byteOffset,u.byteLength);t._chunkSteps(c);return}let i=this._autoAllocateChunkSize;if(i!==void 0){let u;try{u=new ArrayBuffer(i)}catch(h){t._errorSteps(h);return}let c={buffer:u,bufferByteLength:i,byteOffset:0,byteLength:i,bytesFilled:0,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(c)}Pn(r,t),ze(this)}}Object.defineProperties(Je.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof n.toStringTag=="symbol"&&Object.defineProperty(Je.prototype,n.toStringTag,{value:"ReadableByteStreamController",configurable:!0});function Ie(e){return!f(e)||!Object.prototype.hasOwnProperty.call(e,"_controlledReadableByteStream")?!1:e instanceof Je}function xr(e){return!f(e)||!Object.prototype.hasOwnProperty.call(e,"_associatedReadableByteStreamController")?!1:e instanceof bt}function ze(e){if(!Pa(e))return;if(e._pulling){e._pullAgain=!0;return}e._pulling=!0;let r=e._pullAlgorithm();q(r,()=>{e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,ze(e))},i=>{le(e,i)})}function zn(e){jr(e),e._pendingPullIntos=new G}function Ur(e,t){let r=!1;e._state==="closed"&&(r=!0);let i=Mn(t);t.readerType==="default"?Mr(e,i,r):Da(e,i,r)}function Mn(e){let t=e.bytesFilled,r=e.elementSize;return new e.viewConstructor(e.buffer,e.byteOffset,t/r)}function jt(e,t,r,i){e._queue.push({buffer:t,byteOffset:r,byteLength:i}),e._queueTotalSize+=i}function Nn(e,t){let r=t.elementSize,i=t.bytesFilled-t.bytesFilled%r,u=Math.min(e._queueTotalSize,t.byteLength-t.bytesFilled),c=t.bytesFilled+u,h=c-c%r,g=u,B=!1;h>i&&(g=h-t.bytesFilled,B=!0);let W=e._queue;for(;g>0;){let L=W.peek(),I=Math.min(g,L.byteLength),j=t.byteOffset+t.bytesFilled;Fn(t.buffer,j,L.buffer,L.byteOffset,I),L.byteLength===I?W.shift():(L.byteOffset+=I,L.byteLength-=I),e._queueTotalSize-=I,$n(e,I,t),g-=I}return B}function $n(e,t,r){r.bytesFilled+=t}function xn(e){e._queueTotalSize===0&&e._closeRequested?(Vt(e),At(e._controlledReadableByteStream)):ze(e)}function jr(e){e._byobRequest!==null&&(e._byobRequest._associatedReadableByteStreamController=void 0,e._byobRequest._view=null,e._byobRequest=null)}function Un(e){for(;e._pendingPullIntos.length>0;){if(e._queueTotalSize===0)return;let t=e._pendingPullIntos.peek();Nn(e,t)&&(Ht(e),Ur(e._controlledReadableByteStream,t))}}function Ta(e,t,r){let i=e._controlledReadableByteStream,u=1;t.constructor!==DataView&&(u=t.constructor.BYTES_PER_ELEMENT);let c=t.constructor,h=t.buffer,g={buffer:h,bufferByteLength:h.byteLength,byteOffset:t.byteOffset,byteLength:t.byteLength,bytesFilled:0,elementSize:u,viewConstructor:c,readerType:"byob"};if(e._pendingPullIntos.length>0){e._pendingPullIntos.push(g),Qn(i,r);return}if(i._state==="closed"){let B=new c(g.buffer,g.byteOffset,0);r._closeSteps(B);return}if(e._queueTotalSize>0){if(Nn(e,g)){let B=Mn(g);xn(e),r._chunkSteps(B);return}if(e._closeRequested){let B=new TypeError("Insufficient bytes to fill elements in the given buffer");le(e,B),r._errorSteps(B);return}}e._pendingPullIntos.push(g),Qn(i,r),ze(e)}function Ea(e,t){let r=e._controlledReadableByteStream;if(Yr(r))for(;Gn(r)>0;){let i=Ht(e);Ur(r,i)}}function Aa(e,t,r){if($n(e,t,r),r.bytesFilled<r.elementSize)return;Ht(e);let i=r.bytesFilled%r.elementSize;if(i>0){let u=r.byteOffset+r.bytesFilled,c=Ln(r.buffer,u-i,u);jt(e,c,0,c.byteLength)}r.bytesFilled-=i,Ur(e._controlledReadableByteStream,r),Un(e)}function jn(e,t){let r=e._pendingPullIntos.peek();jr(e),e._controlledReadableByteStream._state==="closed"?Ea(e):Aa(e,t,r),ze(e)}function Ht(e){return e._pendingPullIntos.shift()}function Pa(e){let t=e._controlledReadableByteStream;return t._state!=="readable"||e._closeRequested||!e._started?!1:!!(vn(t)&&$t(t)>0||Yr(t)&&Gn(t)>0||Hn(e)>0)}function Vt(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0}function yt(e){let t=e._controlledReadableByteStream;if(!(e._closeRequested||t._state!=="readable")){if(e._queueTotalSize>0){e._closeRequested=!0;return}if(e._pendingPullIntos.length>0&&e._pendingPullIntos.peek().bytesFilled>0){let i=new TypeError("Insufficient bytes to fill elements in the given buffer");throw le(e,i),i}Vt(e),At(t)}}function Yt(e,t){let r=e._controlledReadableByteStream;if(e._closeRequested||r._state!=="readable")return;let i=t.buffer,u=t.byteOffset,c=t.byteLength,h=i;if(e._pendingPullIntos.length>0){let g=e._pendingPullIntos.peek();Ut(g.buffer),g.buffer=g.buffer}if(jr(e),vn(r))if($t(r)===0)jt(e,h,u,c);else{e._pendingPullIntos.length>0&&Ht(e);let g=new Uint8Array(h,u,c);Mr(r,g,!1)}else Yr(r)?(jt(e,h,u,c),Un(e)):jt(e,h,u,c);ze(e)}function le(e,t){let r=e._controlledReadableByteStream;r._state==="readable"&&(zn(e),Be(e),Vt(e),_o(r,t))}function Hr(e){if(e._byobRequest===null&&e._pendingPullIntos.length>0){let t=e._pendingPullIntos.peek(),r=new Uint8Array(t.buffer,t.byteOffset+t.bytesFilled,t.byteLength-t.bytesFilled),i=Object.create(bt.prototype);Ba(i,e,r),e._byobRequest=i}return e._byobRequest}function Hn(e){let t=e._controlledReadableByteStream._state;return t==="errored"?null:t==="closed"?0:e._strategyHWM-e._queueTotalSize}function Qt(e,t){let r=e._pendingPullIntos.peek();if(e._controlledReadableByteStream._state==="closed"){if(t!==0)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(t===0)throw new TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(r.bytesFilled+t>r.byteLength)throw new RangeError("bytesWritten out of range")}r.buffer=r.buffer,jn(e,t)}function Gt(e,t){let r=e._pendingPullIntos.peek();if(e._controlledReadableByteStream._state==="closed"){if(t.byteLength!==0)throw new TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(t.byteLength===0)throw new TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(r.byteOffset+r.bytesFilled!==t.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(r.bufferByteLength!==t.buffer.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");if(r.bytesFilled+t.byteLength>r.byteLength)throw new RangeError("The region specified by view is larger than byobRequest");let u=t.byteLength;r.buffer=t.buffer,jn(e,u)}function Vn(e,t,r,i,u,c,h){t._controlledReadableByteStream=e,t._pullAgain=!1,t._pulling=!1,t._byobRequest=null,t._queue=t._queueTotalSize=void 0,Be(t),t._closeRequested=!1,t._started=!1,t._strategyHWM=c,t._pullAlgorithm=i,t._cancelAlgorithm=u,t._autoAllocateChunkSize=h,t._pendingPullIntos=new G,e._readableStreamController=t;let g=r();q(S(g),()=>{t._started=!0,ze(t)},B=>{le(t,B)})}function va(e,t,r){let i=Object.create(Je.prototype),u=()=>{},c=()=>S(void 0),h=()=>S(void 0);t.start!==void 0&&(u=()=>t.start(i)),t.pull!==void 0&&(c=()=>t.pull(i)),t.cancel!==void 0&&(h=B=>t.cancel(B));let g=t.autoAllocateChunkSize;if(g===0)throw new TypeError("autoAllocateChunkSize must be greater than 0");Vn(e,i,u,c,h,r,g)}function Ba(e,t,r){e._associatedReadableByteStreamController=t,e._view=r}function Vr(e){return new TypeError(`ReadableStreamBYOBRequest.prototype.${e} can only be used on a ReadableStreamBYOBRequest`)}function gt(e){return new TypeError(`ReadableByteStreamController.prototype.${e} can only be used on a ReadableByteStreamController`)}function Yn(e){return new St(e)}function Qn(e,t){e._reader._readIntoRequests.push(t)}function Da(e,t,r){let u=e._reader._readIntoRequests.shift();r?u._closeSteps(t):u._chunkSteps(t)}function Gn(e){return e._reader._readIntoRequests.length}function Yr(e){let t=e._reader;return!(t===void 0||!Me(t))}class St{constructor(t){if(_e(t,1,"ReadableStreamBYOBReader"),zr(t,"First parameter"),We(t))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!Ie(t._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");zt(this,t),this._readIntoRequests=new G}get closed(){return Me(this)?this._closedPromise:p(Jt("closed"))}cancel(t=void 0){return Me(this)?this._ownerReadableStream===void 0?p(ge("cancel")):ft(this,t):p(Jt("cancel"))}read(t){if(!Me(this))return p(Jt("read"));if(!ArrayBuffer.isView(t))return p(new TypeError("view must be an array buffer view"));if(t.byteLength===0)return p(new TypeError("view must have non-zero byteLength"));if(t.buffer.byteLength===0)return p(new TypeError("view's buffer must have non-zero byteLength"));if(Ut(t.buffer),this._ownerReadableStream===void 0)return p(ge("read from"));let r,i,u=D((h,g)=>{r=h,i=g});return Jn(this,t,{_chunkSteps:h=>r({value:h,done:!1}),_closeSteps:h=>r({value:h,done:!0}),_errorSteps:h=>i(h)}),u}releaseLock(){if(!Me(this))throw Jt("releaseLock");if(this._ownerReadableStream!==void 0){if(this._readIntoRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");oe(this)}}}Object.defineProperties(St.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),typeof n.toStringTag=="symbol"&&Object.defineProperty(St.prototype,n.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});function Me(e){return!f(e)||!Object.prototype.hasOwnProperty.call(e,"_readIntoRequests")?!1:e instanceof St}function Jn(e,t,r){let i=e._ownerReadableStream;i._disturbed=!0,i._state==="errored"?r._errorSteps(i._storedError):Ta(i._readableStreamController,t,r)}function Jt(e){return new TypeError(`ReadableStreamBYOBReader.prototype.${e} can only be used on a ReadableStreamBYOBReader`)}function _t(e,t){let{highWaterMark:r}=e;if(r===void 0)return t;if(qn(r)||r<0)throw new RangeError("Invalid highWaterMark");return r}function Zt(e){let{size:t}=e;return t||(()=>1)}function Kt(e,t){Se(e,t);let r=e?.highWaterMark,i=e?.size;return{highWaterMark:r===void 0?void 0:Ir(r),size:i===void 0?void 0:ka(i,`${t} has member 'size' that`)}}function ka(e,t){return se(e,t),r=>Ir(e(r))}function Oa(e,t){Se(e,t);let r=e?.abort,i=e?.close,u=e?.start,c=e?.type,h=e?.write;return{abort:r===void 0?void 0:Wa(r,e,`${t} has member 'abort' that`),close:i===void 0?void 0:qa(i,e,`${t} has member 'close' that`),start:u===void 0?void 0:Fa(u,e,`${t} has member 'start' that`),write:h===void 0?void 0:La(h,e,`${t} has member 'write' that`),type:c}}function Wa(e,t,r){return se(e,r),i=>z(e,t,[i])}function qa(e,t,r){return se(e,r),()=>z(e,t,[])}function Fa(e,t,r){return se(e,r),i=>x(e,t,[i])}function La(e,t,r){return se(e,r),(i,u)=>z(e,t,[i,u])}function Zn(e,t){if(!Ze(e))throw new TypeError(`${t} is not a WritableStream.`)}function Ia(e){if(typeof e!="object"||e===null)return!1;try{return typeof e.aborted=="boolean"}catch{return!1}}let za=typeof AbortController=="function";function Ma(){if(za)return new AbortController}class wt{constructor(t={},r={}){t===void 0?t=null:Tn(t,"First parameter");let i=Kt(r,"Second parameter"),u=Oa(t,"First parameter");if(Xn(this),u.type!==void 0)throw new RangeError("Invalid type is specified");let h=Zt(i),g=_t(i,1);Xa(this,u,g,h)}get locked(){if(!Ze(this))throw nr("locked");return Ke(this)}abort(t=void 0){return Ze(this)?Ke(this)?p(new TypeError("Cannot abort a stream that already has a writer")):Xt(this,t):p(nr("abort"))}close(){return Ze(this)?Ke(this)?p(new TypeError("Cannot close a stream that already has a writer")):pe(this)?p(new TypeError("Cannot close an already-closing stream")):eo(this):p(nr("close"))}getWriter(){if(!Ze(this))throw nr("getWriter");return Kn(this)}}Object.defineProperties(wt.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),typeof n.toStringTag=="symbol"&&Object.defineProperty(wt.prototype,n.toStringTag,{value:"WritableStream",configurable:!0});function Kn(e){return new Rt(e)}function Na(e,t,r,i,u=1,c=()=>1){let h=Object.create(wt.prototype);Xn(h);let g=Object.create(Xe.prototype);return io(h,g,e,t,r,i,u,c),h}function Xn(e){e._state="writable",e._storedError=void 0,e._writer=void 0,e._writableStreamController=void 0,e._writeRequests=new G,e._inFlightWriteRequest=void 0,e._closeRequest=void 0,e._inFlightCloseRequest=void 0,e._pendingAbortRequest=void 0,e._backpressure=!1}function Ze(e){return!f(e)||!Object.prototype.hasOwnProperty.call(e,"_writableStreamController")?!1:e instanceof wt}function Ke(e){return e._writer!==void 0}function Xt(e,t){var r;if(e._state==="closed"||e._state==="errored")return S(void 0);e._writableStreamController._abortReason=t,(r=e._writableStreamController._abortController)===null||r===void 0||r.abort();let i=e._state;if(i==="closed"||i==="errored")return S(void 0);if(e._pendingAbortRequest!==void 0)return e._pendingAbortRequest._promise;let u=!1;i==="erroring"&&(u=!0,t=void 0);let c=D((h,g)=>{e._pendingAbortRequest={_promise:void 0,_resolve:h,_reject:g,_reason:t,_wasAlreadyErroring:u}});return e._pendingAbortRequest._promise=c,u||Gr(e,t),c}function eo(e){let t=e._state;if(t==="closed"||t==="errored")return p(new TypeError(`The stream (in ${t} state) is not in the writable state and cannot be closed`));let r=D((u,c)=>{let h={_resolve:u,_reject:c};e._closeRequest=h}),i=e._writer;return i!==void 0&&e._backpressure&&t==="writable"&&on(i),ei(e._writableStreamController),r}function $a(e){return D((r,i)=>{let u={_resolve:r,_reject:i};e._writeRequests.push(u)})}function Qr(e,t){if(e._state==="writable"){Gr(e,t);return}Jr(e)}function Gr(e,t){let r=e._writableStreamController;e._state="erroring",e._storedError=t;let i=e._writer;i!==void 0&&ro(i,t),!Va(e)&&r._started&&Jr(e)}function Jr(e){e._state="errored",e._writableStreamController[P]();let t=e._storedError;if(e._writeRequests.forEach(u=>{u._reject(t)}),e._writeRequests=new G,e._pendingAbortRequest===void 0){er(e);return}let r=e._pendingAbortRequest;if(e._pendingAbortRequest=void 0,r._wasAlreadyErroring){r._reject(t),er(e);return}let i=e._writableStreamController[C](r._reason);q(i,()=>{r._resolve(),er(e)},u=>{r._reject(u),er(e)})}function xa(e){e._inFlightWriteRequest._resolve(void 0),e._inFlightWriteRequest=void 0}function Ua(e,t){e._inFlightWriteRequest._reject(t),e._inFlightWriteRequest=void 0,Qr(e,t)}function ja(e){e._inFlightCloseRequest._resolve(void 0),e._inFlightCloseRequest=void 0,e._state==="erroring"&&(e._storedError=void 0,e._pendingAbortRequest!==void 0&&(e._pendingAbortRequest._resolve(),e._pendingAbortRequest=void 0)),e._state="closed";let r=e._writer;r!==void 0&&fo(r)}function Ha(e,t){e._inFlightCloseRequest._reject(t),e._inFlightCloseRequest=void 0,e._pendingAbortRequest!==void 0&&(e._pendingAbortRequest._reject(t),e._pendingAbortRequest=void 0),Qr(e,t)}function pe(e){return!(e._closeRequest===void 0&&e._inFlightCloseRequest===void 0)}function Va(e){return!(e._inFlightWriteRequest===void 0&&e._inFlightCloseRequest===void 0)}function Ya(e){e._inFlightCloseRequest=e._closeRequest,e._closeRequest=void 0}function Qa(e){e._inFlightWriteRequest=e._writeRequests.shift()}function er(e){e._closeRequest!==void 0&&(e._closeRequest._reject(e._storedError),e._closeRequest=void 0);let t=e._writer;t!==void 0&&rn(t,e._storedError)}function Zr(e,t){let r=e._writer;r!==void 0&&t!==e._backpressure&&(t?si(r):on(r)),e._backpressure=t}class Rt{constructor(t){if(_e(t,1,"WritableStreamDefaultWriter"),Zn(t,"First parameter"),Ke(t))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=t,t._writer=this;let r=t._state;if(r==="writable")!pe(t)&&t._backpressure?ar(this):co(this),or(this);else if(r==="erroring")nn(this,t._storedError),or(this);else if(r==="closed")co(this),ai(this);else{let i=t._storedError;nn(this,i),uo(this,i)}}get closed(){return Ne(this)?this._closedPromise:p($e("closed"))}get desiredSize(){if(!Ne(this))throw $e("desiredSize");if(this._ownerWritableStream===void 0)throw Ct("desiredSize");return Ka(this)}get ready(){return Ne(this)?this._readyPromise:p($e("ready"))}abort(t=void 0){return Ne(this)?this._ownerWritableStream===void 0?p(Ct("abort")):Ga(this,t):p($e("abort"))}close(){if(!Ne(this))return p($e("close"));let t=this._ownerWritableStream;return t===void 0?p(Ct("close")):pe(t)?p(new TypeError("Cannot close an already-closing stream")):to(this)}releaseLock(){if(!Ne(this))throw $e("releaseLock");this._ownerWritableStream!==void 0&&no(this)}write(t=void 0){return Ne(this)?this._ownerWritableStream===void 0?p(Ct("write to")):oo(this,t):p($e("write"))}}Object.defineProperties(Rt.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),typeof n.toStringTag=="symbol"&&Object.defineProperty(Rt.prototype,n.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});function Ne(e){return!f(e)||!Object.prototype.hasOwnProperty.call(e,"_ownerWritableStream")?!1:e instanceof Rt}function Ga(e,t){let r=e._ownerWritableStream;return Xt(r,t)}function to(e){let t=e._ownerWritableStream;return eo(t)}function Ja(e){let t=e._ownerWritableStream,r=t._state;return pe(t)||r==="closed"?S(void 0):r==="errored"?p(t._storedError):to(e)}function Za(e,t){e._closedPromiseState==="pending"?rn(e,t):ii(e,t)}function ro(e,t){e._readyPromiseState==="pending"?ho(e,t):li(e,t)}function Ka(e){let t=e._ownerWritableStream,r=t._state;return r==="errored"||r==="erroring"?null:r==="closed"?0:so(t._writableStreamController)}function no(e){let t=e._ownerWritableStream,r=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");ro(e,r),Za(e,r),t._writer=void 0,e._ownerWritableStream=void 0}function oo(e,t){let r=e._ownerWritableStream,i=r._writableStreamController,u=ti(i,t);if(r!==e._ownerWritableStream)return p(Ct("write to"));let c=r._state;if(c==="errored")return p(r._storedError);if(pe(r)||c==="closed")return p(new TypeError("The stream is closing or closed and cannot be written to"));if(c==="erroring")return p(r._storedError);let h=$a(r);return ri(i,t,u),h}let ao={};class Xe{constructor(){throw new TypeError("Illegal constructor")}get abortReason(){if(!Kr(this))throw tn("abortReason");return this._abortReason}get signal(){if(!Kr(this))throw tn("signal");if(this._abortController===void 0)throw new TypeError("WritableStreamDefaultController.prototype.signal is not supported");return this._abortController.signal}error(t=void 0){if(!Kr(this))throw tn("error");this._controlledWritableStream._state==="writable"&&lo(this,t)}[C](t){let r=this._abortAlgorithm(t);return tr(this),r}[P](){Be(this)}}Object.defineProperties(Xe.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),typeof n.toStringTag=="symbol"&&Object.defineProperty(Xe.prototype,n.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});function Kr(e){return!f(e)||!Object.prototype.hasOwnProperty.call(e,"_controlledWritableStream")?!1:e instanceof Xe}function io(e,t,r,i,u,c,h,g){t._controlledWritableStream=e,e._writableStreamController=t,t._queue=void 0,t._queueTotalSize=void 0,Be(t),t._abortReason=void 0,t._abortController=Ma(),t._started=!1,t._strategySizeAlgorithm=g,t._strategyHWM=h,t._writeAlgorithm=i,t._closeAlgorithm=u,t._abortAlgorithm=c;let B=en(t);Zr(e,B);let W=r(),L=S(W);q(L,()=>{t._started=!0,rr(t)},I=>{t._started=!0,Qr(e,I)})}function Xa(e,t,r,i){let u=Object.create(Xe.prototype),c=()=>{},h=()=>S(void 0),g=()=>S(void 0),B=()=>S(void 0);t.start!==void 0&&(c=()=>t.start(u)),t.write!==void 0&&(h=W=>t.write(W,u)),t.close!==void 0&&(g=()=>t.close()),t.abort!==void 0&&(B=W=>t.abort(W)),io(e,u,c,h,g,B,r,i)}function tr(e){e._writeAlgorithm=void 0,e._closeAlgorithm=void 0,e._abortAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function ei(e){$r(e,ao,0),rr(e)}function ti(e,t){try{return e._strategySizeAlgorithm(t)}catch(r){return Xr(e,r),1}}function so(e){return e._strategyHWM-e._queueTotalSize}function ri(e,t,r){try{$r(e,t,r)}catch(u){Xr(e,u);return}let i=e._controlledWritableStream;if(!pe(i)&&i._state==="writable"){let u=en(e);Zr(i,u)}rr(e)}function rr(e){let t=e._controlledWritableStream;if(!e._started||t._inFlightWriteRequest!==void 0)return;if(t._state==="erroring"){Jr(t);return}if(e._queue.length===0)return;let i=Ca(e);i===ao?ni(e):oi(e,i)}function Xr(e,t){e._controlledWritableStream._state==="writable"&&lo(e,t)}function ni(e){let t=e._controlledWritableStream;Ya(t),Nr(e);let r=e._closeAlgorithm();tr(e),q(r,()=>{ja(t)},i=>{Ha(t,i)})}function oi(e,t){let r=e._controlledWritableStream;Qa(r);let i=e._writeAlgorithm(t);q(i,()=>{xa(r);let u=r._state;if(Nr(e),!pe(r)&&u==="writable"){let c=en(e);Zr(r,c)}rr(e)},u=>{r._state==="writable"&&tr(e),Ua(r,u)})}function en(e){return so(e)<=0}function lo(e,t){let r=e._controlledWritableStream;tr(e),Gr(r,t)}function nr(e){return new TypeError(`WritableStream.prototype.${e} can only be used on a WritableStream`)}function tn(e){return new TypeError(`WritableStreamDefaultController.prototype.${e} can only be used on a WritableStreamDefaultController`)}function $e(e){return new TypeError(`WritableStreamDefaultWriter.prototype.${e} can only be used on a WritableStreamDefaultWriter`)}function Ct(e){return new TypeError("Cannot "+e+" a stream using a released writer")}function or(e){e._closedPromise=D((t,r)=>{e._closedPromise_resolve=t,e._closedPromise_reject=r,e._closedPromiseState="pending"})}function uo(e,t){or(e),rn(e,t)}function ai(e){or(e),fo(e)}function rn(e,t){e._closedPromise_reject!==void 0&&(U(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="rejected")}function ii(e,t){uo(e,t)}function fo(e){e._closedPromise_resolve!==void 0&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="resolved")}function ar(e){e._readyPromise=D((t,r)=>{e._readyPromise_resolve=t,e._readyPromise_reject=r}),e._readyPromiseState="pending"}function nn(e,t){ar(e),ho(e,t)}function co(e){ar(e),on(e)}function ho(e,t){e._readyPromise_reject!==void 0&&(U(e._readyPromise),e._readyPromise_reject(t),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="rejected")}function si(e){ar(e)}function li(e,t){nn(e,t)}function on(e){e._readyPromise_resolve!==void 0&&(e._readyPromise_resolve(void 0),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="fulfilled")}let mo=typeof DOMException<"u"?DOMException:void 0;function ui(e){if(!(typeof e=="function"||typeof e=="object"))return!1;try{return new e,!0}catch{return!1}}function fi(){let e=function(r,i){this.message=r||"",this.name=i||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return e.prototype=Object.create(Error.prototype),Object.defineProperty(e.prototype,"constructor",{value:e,writable:!0,configurable:!0}),e}let ci=ui(mo)?mo:fi();function po(e,t,r,i,u,c){let h=Ge(e),g=Kn(t);e._disturbed=!0;let B=!1,W=S(void 0);return D((L,I)=>{let j;if(c!==void 0){if(j=()=>{let T=new ci("Aborted","AbortError"),O=[];i||O.push(()=>t._state==="writable"?Xt(t,T):S(void 0)),u||O.push(()=>e._state==="readable"?ue(e,T):S(void 0)),K(()=>Promise.all(O.map(N=>N())),!0,T)},c.aborted){j();return}c.addEventListener("abort",j)}function fe(){return D((T,O)=>{function N(te){te?T():m(rt(),N,O)}N(!1)})}function rt(){return B?S(!0):m(g._readyPromise,()=>D((T,O)=>{mt(h,{_chunkSteps:N=>{W=m(oo(g,N),void 0,o),T(!1)},_closeSteps:()=>T(!0),_errorSteps:O})}))}if(we(e,h._closedPromise,T=>{i?ae(!0,T):K(()=>Xt(t,T),!0,T)}),we(t,g._closedPromise,T=>{u?ae(!0,T):K(()=>ue(e,T),!0,T)}),J(e,h._closedPromise,()=>{r?ae():K(()=>Ja(g))}),pe(t)||t._state==="closed"){let T=new TypeError("the destination writable stream closed before all data could be piped to it");u?ae(!0,T):K(()=>ue(e,T),!0,T)}U(fe());function qe(){let T=W;return m(W,()=>T!==W?qe():void 0)}function we(T,O,N){T._state==="errored"?N(T._storedError):k(O,N)}function J(T,O,N){T._state==="closed"?N():E(O,N)}function K(T,O,N){if(B)return;B=!0,t._state==="writable"&&!pe(t)?E(qe(),te):te();function te(){q(T(),()=>Re(O,N),nt=>Re(!0,nt))}}function ae(T,O){B||(B=!0,t._state==="writable"&&!pe(t)?E(qe(),()=>Re(T,O)):Re(T,O))}function Re(T,O){no(g),oe(h),c!==void 0&&c.removeEventListener("abort",j),T?I(O):L(void 0)}})}class et{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!ir(this))throw ur("desiredSize");return an(this)}close(){if(!ir(this))throw ur("close");if(!tt(this))throw new TypeError("The stream is not in a state that permits close");Et(this)}enqueue(t=void 0){if(!ir(this))throw ur("enqueue");if(!tt(this))throw new TypeError("The stream is not in a state that permits enqueue");return lr(this,t)}error(t=void 0){if(!ir(this))throw ur("error");De(this,t)}[A](t){Be(this);let r=this._cancelAlgorithm(t);return sr(this),r}[H](t){let r=this._controlledReadableStream;if(this._queue.length>0){let i=Nr(this);this._closeRequested&&this._queue.length===0?(sr(this),At(r)):Tt(this),t._chunkSteps(i)}else Pn(r,t),Tt(this)}}Object.defineProperties(et.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof n.toStringTag=="symbol"&&Object.defineProperty(et.prototype,n.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});function ir(e){return!f(e)||!Object.prototype.hasOwnProperty.call(e,"_controlledReadableStream")?!1:e instanceof et}function Tt(e){if(!bo(e))return;if(e._pulling){e._pullAgain=!0;return}e._pulling=!0;let r=e._pullAlgorithm();q(r,()=>{e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,Tt(e))},i=>{De(e,i)})}function bo(e){let t=e._controlledReadableStream;return!tt(e)||!e._started?!1:!!(We(t)&&$t(t)>0||an(e)>0)}function sr(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function Et(e){if(!tt(e))return;let t=e._controlledReadableStream;e._closeRequested=!0,e._queue.length===0&&(sr(e),At(t))}function lr(e,t){if(!tt(e))return;let r=e._controlledReadableStream;if(We(r)&&$t(r)>0)Mr(r,t,!1);else{let i;try{i=e._strategySizeAlgorithm(t)}catch(u){throw De(e,u),u}try{$r(e,t,i)}catch(u){throw De(e,u),u}}Tt(e)}function De(e,t){let r=e._controlledReadableStream;r._state==="readable"&&(Be(e),sr(e),_o(r,t))}function an(e){let t=e._controlledReadableStream._state;return t==="errored"?null:t==="closed"?0:e._strategyHWM-e._queueTotalSize}function di(e){return!bo(e)}function tt(e){let t=e._controlledReadableStream._state;return!e._closeRequested&&t==="readable"}function yo(e,t,r,i,u,c,h){t._controlledReadableStream=e,t._queue=void 0,t._queueTotalSize=void 0,Be(t),t._started=!1,t._closeRequested=!1,t._pullAgain=!1,t._pulling=!1,t._strategySizeAlgorithm=h,t._strategyHWM=c,t._pullAlgorithm=i,t._cancelAlgorithm=u,e._readableStreamController=t;let g=r();q(S(g),()=>{t._started=!0,Tt(t)},B=>{De(t,B)})}function hi(e,t,r,i){let u=Object.create(et.prototype),c=()=>{},h=()=>S(void 0),g=()=>S(void 0);t.start!==void 0&&(c=()=>t.start(u)),t.pull!==void 0&&(h=()=>t.pull(u)),t.cancel!==void 0&&(g=B=>t.cancel(B)),yo(e,u,c,h,g,r,i)}function ur(e){return new TypeError(`ReadableStreamDefaultController.prototype.${e} can only be used on a ReadableStreamDefaultController`)}function mi(e,t){return Ie(e._readableStreamController)?bi(e):pi(e)}function pi(e,t){let r=Ge(e),i=!1,u=!1,c=!1,h=!1,g,B,W,L,I,j=D(J=>{I=J});function fe(){return i?(u=!0,S(void 0)):(i=!0,mt(r,{_chunkSteps:K=>{_(()=>{u=!1;let ae=K,Re=K;c||lr(W._readableStreamController,ae),h||lr(L._readableStreamController,Re),i=!1,u&&fe()})},_closeSteps:()=>{i=!1,c||Et(W._readableStreamController),h||Et(L._readableStreamController),(!c||!h)&&I(void 0)},_errorSteps:()=>{i=!1}}),S(void 0))}function rt(J){if(c=!0,g=J,h){let K=pt([g,B]),ae=ue(e,K);I(ae)}return j}function qe(J){if(h=!0,B=J,c){let K=pt([g,B]),ae=ue(e,K);I(ae)}return j}function we(){}return W=sn(we,fe,rt),L=sn(we,fe,qe),k(r._closedPromise,J=>{De(W._readableStreamController,J),De(L._readableStreamController,J),(!c||!h)&&I(void 0)}),[W,L]}function bi(e){let t=Ge(e),r=!1,i=!1,u=!1,c=!1,h=!1,g,B,W,L,I,j=D(T=>{I=T});function fe(T){k(T._closedPromise,O=>{T===t&&(le(W._readableStreamController,O),le(L._readableStreamController,O),(!c||!h)&&I(void 0))})}function rt(){Me(t)&&(oe(t),t=Ge(e),fe(t)),mt(t,{_chunkSteps:O=>{_(()=>{i=!1,u=!1;let N=O,te=O;if(!c&&!h)try{te=In(O)}catch(nt){le(W._readableStreamController,nt),le(L._readableStreamController,nt),I(ue(e,nt));return}c||Yt(W._readableStreamController,N),h||Yt(L._readableStreamController,te),r=!1,i?we():u&&J()})},_closeSteps:()=>{r=!1,c||yt(W._readableStreamController),h||yt(L._readableStreamController),W._readableStreamController._pendingPullIntos.length>0&&Qt(W._readableStreamController,0),L._readableStreamController._pendingPullIntos.length>0&&Qt(L._readableStreamController,0),(!c||!h)&&I(void 0)},_errorSteps:()=>{r=!1}})}function qe(T,O){ve(t)&&(oe(t),t=Yn(e),fe(t));let N=O?L:W,te=O?W:L;Jn(t,T,{_chunkSteps:ot=>{_(()=>{i=!1,u=!1;let at=O?h:c;if(O?c:h)at||Gt(N._readableStreamController,ot);else{let Wo;try{Wo=In(ot)}catch(un){le(N._readableStreamController,un),le(te._readableStreamController,un),I(ue(e,un));return}at||Gt(N._readableStreamController,ot),Yt(te._readableStreamController,Wo)}r=!1,i?we():u&&J()})},_closeSteps:ot=>{r=!1;let at=O?h:c,gr=O?c:h;at||yt(N._readableStreamController),gr||yt(te._readableStreamController),ot!==void 0&&(at||Gt(N._readableStreamController,ot),!gr&&te._readableStreamController._pendingPullIntos.length>0&&Qt(te._readableStreamController,0)),(!at||!gr)&&I(void 0)},_errorSteps:()=>{r=!1}})}function we(){if(r)return i=!0,S(void 0);r=!0;let T=Hr(W._readableStreamController);return T===null?rt():qe(T._view,!1),S(void 0)}function J(){if(r)return u=!0,S(void 0);r=!0;let T=Hr(L._readableStreamController);return T===null?rt():qe(T._view,!0),S(void 0)}function K(T){if(c=!0,g=T,h){let O=pt([g,B]),N=ue(e,O);I(N)}return j}function ae(T){if(h=!0,B=T,c){let O=pt([g,B]),N=ue(e,O);I(N)}return j}function Re(){}return W=So(Re,we,K),L=So(Re,J,ae),fe(t),[W,L]}function yi(e,t){Se(e,t);let r=e,i=r?.autoAllocateChunkSize,u=r?.cancel,c=r?.pull,h=r?.start,g=r?.type;return{autoAllocateChunkSize:i===void 0?void 0:An(i,`${t} has member 'autoAllocateChunkSize' that`),cancel:u===void 0?void 0:gi(u,r,`${t} has member 'cancel' that`),pull:c===void 0?void 0:Si(c,r,`${t} has member 'pull' that`),start:h===void 0?void 0:_i(h,r,`${t} has member 'start' that`),type:g===void 0?void 0:wi(g,`${t} has member 'type' that`)}}function gi(e,t,r){return se(e,r),i=>z(e,t,[i])}function Si(e,t,r){return se(e,r),i=>z(e,t,[i])}function _i(e,t,r){return se(e,r),i=>x(e,t,[i])}function wi(e,t){if(e=`${e}`,e!=="bytes")throw new TypeError(`${t} '${e}' is not a valid enumeration value for ReadableStreamType`);return e}function Ri(e,t){Se(e,t);let r=e?.mode;return{mode:r===void 0?void 0:Ci(r,`${t} has member 'mode' that`)}}function Ci(e,t){if(e=`${e}`,e!=="byob")throw new TypeError(`${t} '${e}' is not a valid enumeration value for ReadableStreamReaderMode`);return e}function Ti(e,t){return Se(e,t),{preventCancel:!!e?.preventCancel}}function go(e,t){Se(e,t);let r=e?.preventAbort,i=e?.preventCancel,u=e?.preventClose,c=e?.signal;return c!==void 0&&Ei(c,`${t} has member 'signal' that`),{preventAbort:!!r,preventCancel:!!i,preventClose:!!u,signal:c}}function Ei(e,t){if(!Ia(e))throw new TypeError(`${t} is not an AbortSignal.`)}function Ai(e,t){Se(e,t);let r=e?.readable;Lr(r,"readable","ReadableWritablePair"),zr(r,`${t} has member 'readable' that`);let i=e?.writable;return Lr(i,"writable","ReadableWritablePair"),Zn(i,`${t} has member 'writable' that`),{readable:r,writable:i}}class ke{constructor(t={},r={}){t===void 0?t=null:Tn(t,"First parameter");let i=Kt(r,"Second parameter"),u=yi(t,"First parameter");if(ln(this),u.type==="bytes"){if(i.size!==void 0)throw new RangeError("The strategy for a byte stream cannot have a size function");let c=_t(i,0);va(this,u,c)}else{let c=Zt(i),h=_t(i,1);hi(this,u,h,c)}}get locked(){if(!Oe(this))throw xe("locked");return We(this)}cancel(t=void 0){return Oe(this)?We(this)?p(new TypeError("Cannot cancel a stream that already has a reader")):ue(this,t):p(xe("cancel"))}getReader(t=void 0){if(!Oe(this))throw xe("getReader");return Ri(t,"First parameter").mode===void 0?Ge(this):Yn(this)}pipeThrough(t,r={}){if(!Oe(this))throw xe("pipeThrough");_e(t,1,"pipeThrough");let i=Ai(t,"First parameter"),u=go(r,"Second parameter");if(We(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(Ke(i.writable))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");let c=po(this,i.writable,u.preventClose,u.preventAbort,u.preventCancel,u.signal);return U(c),i.readable}pipeTo(t,r={}){if(!Oe(this))return p(xe("pipeTo"));if(t===void 0)return p("Parameter 1 is required in 'pipeTo'.");if(!Ze(t))return p(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));let i;try{i=go(r,"Second parameter")}catch(u){return p(u)}return We(this)?p(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):Ke(t)?p(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):po(this,t,i.preventClose,i.preventAbort,i.preventCancel,i.signal)}tee(){if(!Oe(this))throw xe("tee");let t=mi(this);return pt(t)}values(t=void 0){if(!Oe(this))throw xe("values");let r=Ti(t,"First parameter");return wa(this,r.preventCancel)}}Object.defineProperties(ke.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),typeof n.toStringTag=="symbol"&&Object.defineProperty(ke.prototype,n.toStringTag,{value:"ReadableStream",configurable:!0}),typeof n.asyncIterator=="symbol"&&Object.defineProperty(ke.prototype,n.asyncIterator,{value:ke.prototype.values,writable:!0,configurable:!0});function sn(e,t,r,i=1,u=()=>1){let c=Object.create(ke.prototype);ln(c);let h=Object.create(et.prototype);return yo(c,h,e,t,r,i,u),c}function So(e,t,r){let i=Object.create(ke.prototype);ln(i);let u=Object.create(Je.prototype);return Vn(i,u,e,t,r,0,void 0),i}function ln(e){e._state="readable",e._reader=void 0,e._storedError=void 0,e._disturbed=!1}function Oe(e){return!f(e)||!Object.prototype.hasOwnProperty.call(e,"_readableStreamController")?!1:e instanceof ke}function We(e){return e._reader!==void 0}function ue(e,t){if(e._disturbed=!0,e._state==="closed")return S(void 0);if(e._state==="errored")return p(e._storedError);At(e);let r=e._reader;r!==void 0&&Me(r)&&(r._readIntoRequests.forEach(u=>{u._closeSteps(void 0)}),r._readIntoRequests=new G);let i=e._readableStreamController[A](t);return F(i,o)}function At(e){e._state="closed";let t=e._reader;t!==void 0&&(Nt(t),ve(t)&&(t._readRequests.forEach(r=>{r._closeSteps()}),t._readRequests=new G))}function _o(e,t){e._state="errored",e._storedError=t;let r=e._reader;r!==void 0&&(Qe(r,t),ve(r)?(r._readRequests.forEach(i=>{i._errorSteps(t)}),r._readRequests=new G):(r._readIntoRequests.forEach(i=>{i._errorSteps(t)}),r._readIntoRequests=new G))}function xe(e){return new TypeError(`ReadableStream.prototype.${e} can only be used on a ReadableStream`)}function wo(e,t){Se(e,t);let r=e?.highWaterMark;return Lr(r,"highWaterMark","QueuingStrategyInit"),{highWaterMark:Ir(r)}}let Ro=e=>e.byteLength;try{Object.defineProperty(Ro,"name",{value:"size",configurable:!0})}catch{}class fr{constructor(t){_e(t,1,"ByteLengthQueuingStrategy"),t=wo(t,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=t.highWaterMark}get highWaterMark(){if(!To(this))throw Co("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark}get size(){if(!To(this))throw Co("size");return Ro}}Object.defineProperties(fr.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof n.toStringTag=="symbol"&&Object.defineProperty(fr.prototype,n.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});function Co(e){return new TypeError(`ByteLengthQueuingStrategy.prototype.${e} can only be used on a ByteLengthQueuingStrategy`)}function To(e){return!f(e)||!Object.prototype.hasOwnProperty.call(e,"_byteLengthQueuingStrategyHighWaterMark")?!1:e instanceof fr}let Eo=()=>1;try{Object.defineProperty(Eo,"name",{value:"size",configurable:!0})}catch{}class cr{constructor(t){_e(t,1,"CountQueuingStrategy"),t=wo(t,"First parameter"),this._countQueuingStrategyHighWaterMark=t.highWaterMark}get highWaterMark(){if(!Po(this))throw Ao("highWaterMark");return this._countQueuingStrategyHighWaterMark}get size(){if(!Po(this))throw Ao("size");return Eo}}Object.defineProperties(cr.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof n.toStringTag=="symbol"&&Object.defineProperty(cr.prototype,n.toStringTag,{value:"CountQueuingStrategy",configurable:!0});function Ao(e){return new TypeError(`CountQueuingStrategy.prototype.${e} can only be used on a CountQueuingStrategy`)}function Po(e){return!f(e)||!Object.prototype.hasOwnProperty.call(e,"_countQueuingStrategyHighWaterMark")?!1:e instanceof cr}function Pi(e,t){Se(e,t);let r=e?.flush,i=e?.readableType,u=e?.start,c=e?.transform,h=e?.writableType;return{flush:r===void 0?void 0:vi(r,e,`${t} has member 'flush' that`),readableType:i,start:u===void 0?void 0:Bi(u,e,`${t} has member 'start' that`),transform:c===void 0?void 0:Di(c,e,`${t} has member 'transform' that`),writableType:h}}function vi(e,t,r){return se(e,r),i=>z(e,t,[i])}function Bi(e,t,r){return se(e,r),i=>x(e,t,[i])}function Di(e,t,r){return se(e,r),(i,u)=>z(e,t,[i,u])}class dr{constructor(t={},r={},i={}){t===void 0&&(t=null);let u=Kt(r,"Second parameter"),c=Kt(i,"Third parameter"),h=Pi(t,"First parameter");if(h.readableType!==void 0)throw new RangeError("Invalid readableType specified");if(h.writableType!==void 0)throw new RangeError("Invalid writableType specified");let g=_t(c,0),B=Zt(c),W=_t(u,1),L=Zt(u),I,j=D(fe=>{I=fe});ki(this,j,W,L,g,B),Wi(this,h),h.start!==void 0?I(h.start(this._transformStreamController)):I(void 0)}get readable(){if(!vo(this))throw Oo("readable");return this._readable}get writable(){if(!vo(this))throw Oo("writable");return this._writable}}Object.defineProperties(dr.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),typeof n.toStringTag=="symbol"&&Object.defineProperty(dr.prototype,n.toStringTag,{value:"TransformStream",configurable:!0});function ki(e,t,r,i,u,c){function h(){return t}function g(j){return Li(e,j)}function B(j){return Ii(e,j)}function W(){return zi(e)}e._writable=Na(h,g,W,B,r,i);function L(){return Mi(e)}function I(j){return mr(e,j),S(void 0)}e._readable=sn(h,L,I,u,c),e._backpressure=void 0,e._backpressureChangePromise=void 0,e._backpressureChangePromise_resolve=void 0,pr(e,!0),e._transformStreamController=void 0}function vo(e){return!f(e)||!Object.prototype.hasOwnProperty.call(e,"_transformStreamController")?!1:e instanceof dr}function hr(e,t){De(e._readable._readableStreamController,t),mr(e,t)}function mr(e,t){Bo(e._transformStreamController),Xr(e._writable._writableStreamController,t),e._backpressure&&pr(e,!1)}function pr(e,t){e._backpressureChangePromise!==void 0&&e._backpressureChangePromise_resolve(),e._backpressureChangePromise=D(r=>{e._backpressureChangePromise_resolve=r}),e._backpressure=t}class Pt{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!br(this))throw yr("desiredSize");let t=this._controlledTransformStream._readable._readableStreamController;return an(t)}enqueue(t=void 0){if(!br(this))throw yr("enqueue");Do(this,t)}error(t=void 0){if(!br(this))throw yr("error");qi(this,t)}terminate(){if(!br(this))throw yr("terminate");Fi(this)}}Object.defineProperties(Pt.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof n.toStringTag=="symbol"&&Object.defineProperty(Pt.prototype,n.toStringTag,{value:"TransformStreamDefaultController",configurable:!0});function br(e){return!f(e)||!Object.prototype.hasOwnProperty.call(e,"_controlledTransformStream")?!1:e instanceof Pt}function Oi(e,t,r,i){t._controlledTransformStream=e,e._transformStreamController=t,t._transformAlgorithm=r,t._flushAlgorithm=i}function Wi(e,t){let r=Object.create(Pt.prototype),i=c=>{try{return Do(r,c),S(void 0)}catch(h){return p(h)}},u=()=>S(void 0);t.transform!==void 0&&(i=c=>t.transform(c,r)),t.flush!==void 0&&(u=()=>t.flush(r)),Oi(e,r,i,u)}function Bo(e){e._transformAlgorithm=void 0,e._flushAlgorithm=void 0}function Do(e,t){let r=e._controlledTransformStream,i=r._readable._readableStreamController;if(!tt(i))throw new TypeError("Readable side is not in a state that permits enqueue");try{lr(i,t)}catch(c){throw mr(r,c),r._readable._storedError}di(i)!==r._backpressure&&pr(r,!0)}function qi(e,t){hr(e._controlledTransformStream,t)}function ko(e,t){let r=e._transformAlgorithm(t);return F(r,void 0,i=>{throw hr(e._controlledTransformStream,i),i})}function Fi(e){let t=e._controlledTransformStream,r=t._readable._readableStreamController;Et(r);let i=new TypeError("TransformStream terminated");mr(t,i)}function Li(e,t){let r=e._transformStreamController;if(e._backpressure){let i=e._backpressureChangePromise;return F(i,()=>{let u=e._writable;if(u._state==="erroring")throw u._storedError;return ko(r,t)})}return ko(r,t)}function Ii(e,t){return hr(e,t),S(void 0)}function zi(e){let t=e._readable,r=e._transformStreamController,i=r._flushAlgorithm();return Bo(r),F(i,()=>{if(t._state==="errored")throw t._storedError;Et(t._readableStreamController)},u=>{throw hr(e,u),t._storedError})}function Mi(e){return pr(e,!1),e._backpressureChangePromise}function yr(e){return new TypeError(`TransformStreamDefaultController.prototype.${e} can only be used on a TransformStreamDefaultController`)}function Oo(e){return new TypeError(`TransformStream.prototype.${e} can only be used on a TransformStream`)}a.ByteLengthQueuingStrategy=fr,a.CountQueuingStrategy=cr,a.ReadableByteStreamController=Je,a.ReadableStream=ke,a.ReadableStreamBYOBReader=St,a.ReadableStreamBYOBRequest=bt,a.ReadableStreamDefaultController=et,a.ReadableStreamDefaultReader=ht,a.TransformStream=dr,a.TransformStreamDefaultController=Pt,a.WritableStream=wt,a.WritableStreamDefaultController=Xe,a.WritableStreamDefaultWriter=Rt,Object.defineProperty(a,"__esModule",{value:!0})})});var Mo=fn(()=>{if(!globalThis.ReadableStream)try{let a=require("node:process"),{emitWarning:n}=a;try{a.emitWarning=()=>{},Object.assign(globalThis,require("node:stream/web")),a.emitWarning=n}catch(o){throw a.emitWarning=n,o}}catch{Object.assign(globalThis,zo())}try{let{Blob:a}=require("buffer");a&&!a.prototype.stream&&(a.prototype.stream=function(o){let s=0,l=this;return new ReadableStream({type:"bytes",async pull(f){let R=await l.slice(s,Math.min(l.size,s+65536)).arrayBuffer();s+=R.byteLength,f.enqueue(new Uint8Array(R)),s===l.size&&f.close()}})})}catch{}});async function*cn(a,n=!0){for(let o of a)if("stream"in o)yield*o.stream();else if(ArrayBuffer.isView(o))if(n){let s=o.byteOffset,l=o.byteOffset+o.byteLength;for(;s!==l;){let f=Math.min(l-s,No),d=o.buffer.slice(s,s+f);s+=d.byteLength,yield new Uint8Array(d)}}else yield o;else{let s=0,l=o;for(;s!==l.size;){let d=await l.slice(s,Math.min(l.size,s+No)).arrayBuffer();s+=d.byteLength,yield new Uint8Array(d)}}}var Cs,No,$o,Yi,Ce,Bt=vt(()=>{Cs=Fe(Mo(),1);No=65536;$o=class dn{#e=[];#t="";#r=0;#n="transparent";constructor(n=[],o={}){if(typeof n!="object"||n===null)throw new TypeError("Failed to construct 'Blob': The provided value cannot be converted to a sequence.");if(typeof n[Symbol.iterator]!="function")throw new TypeError("Failed to construct 'Blob': The object must have a callable @@iterator property.");if(typeof o!="object"&&typeof o!="function")throw new TypeError("Failed to construct 'Blob': parameter 2 cannot convert to dictionary.");o===null&&(o={});let s=new TextEncoder;for(let f of n){let d;ArrayBuffer.isView(f)?d=new Uint8Array(f.buffer.slice(f.byteOffset,f.byteOffset+f.byteLength)):f instanceof ArrayBuffer?d=new Uint8Array(f.slice(0)):f instanceof dn?d=f:d=s.encode(`${f}`),this.#r+=ArrayBuffer.isView(d)?d.byteLength:d.size,this.#e.push(d)}this.#n=`${o.endings===void 0?"transparent":o.endings}`;let l=o.type===void 0?"":String(o.type);this.#t=/^[\x20-\x7E]*$/.test(l)?l:""}get size(){return this.#r}get type(){return this.#t}async text(){let n=new TextDecoder,o="";for await(let s of cn(this.#e,!1))o+=n.decode(s,{stream:!0});return o+=n.decode(),o}async arrayBuffer(){let n=new Uint8Array(this.size),o=0;for await(let s of cn(this.#e,!1))n.set(s,o),o+=s.length;return n.buffer}stream(){let n=cn(this.#e,!0);return new globalThis.ReadableStream({type:"bytes",async pull(o){let s=await n.next();s.done?o.close():o.enqueue(s.value)},async cancel(){await n.return()}})}slice(n=0,o=this.size,s=""){let{size:l}=this,f=n<0?Math.max(l+n,0):Math.min(n,l),d=o<0?Math.max(l+o,0):Math.min(o,l),R=Math.max(d-f,0),y=this.#e,b=[],v=0;for(let S of y){if(v>=R)break;let p=ArrayBuffer.isView(S)?S.byteLength:S.size;if(f&&p<=f)f-=p,d-=p;else{let m;ArrayBuffer.isView(S)?(m=S.subarray(f,Math.min(p,d)),v+=m.byteLength):(m=S.slice(f,Math.min(p,d)),v+=m.size),d-=p,b.push(m),f=0}}let D=new dn([],{type:String(s).toLowerCase()});return D.#r=R,D.#e=b,D}get[Symbol.toStringTag](){return"Blob"}static[Symbol.hasInstance](n){return n&&typeof n=="object"&&typeof n.constructor=="function"&&(typeof n.stream=="function"||typeof n.arrayBuffer=="function")&&/^(Blob|File)$/.test(n[Symbol.toStringTag])}};Object.defineProperties($o.prototype,{size:{enumerable:!0},type:{enumerable:!0},slice:{enumerable:!0}});Yi=$o,Ce=Yi});var Qi,Gi,it,hn=vt(()=>{Bt();Qi=class extends Ce{#e=0;#t="";constructor(n,o,s={}){if(arguments.length<2)throw new TypeError(`Failed to construct 'File': 2 arguments required, but only ${arguments.length} present.`);super(n,s),s===null&&(s={});let l=s.lastModified===void 0?Date.now():Number(s.lastModified);Number.isNaN(l)||(this.#e=l),this.#t=String(o)}get name(){return this.#t}get lastModified(){return this.#e}get[Symbol.toStringTag](){return"File"}static[Symbol.hasInstance](n){return!!n&&n instanceof Ce&&/^(File)$/.test(n[Symbol.toStringTag])}},Gi=Qi,it=Gi});function jo(a,n=Ce){var o=`${xo()}${xo()}`.replace(/\./g,"").slice(-28).padStart(32,"-"),s=[],l=`--${o}\r
Content-Disposition: form-data; name="`;return a.forEach((f,d)=>typeof f=="string"?s.push(l+mn(d)+`"\r
\r
${f.replace(/\r(?!\n)|(?<!\r)\n/g,`\r
`)}\r
`):s.push(l+mn(d)+`"; filename="${mn(f.name,1)}"\r
Content-Type: ${f.type||"application/octet-stream"}\r
\r
`,f,`\r
`)),s.push(`--${o}--`),new n(s,{type:"multipart/form-data; boundary="+o})}var Dt,Ji,Zi,xo,Ki,Uo,mn,Ue,je,wr=vt(()=>{Bt();hn();({toStringTag:Dt,iterator:Ji,hasInstance:Zi}=Symbol),xo=Math.random,Ki="append,set,get,getAll,delete,keys,values,entries,forEach,constructor".split(","),Uo=(a,n,o)=>(a+="",/^(Blob|File)$/.test(n&&n[Dt])?[(o=o!==void 0?o+"":n[Dt]=="File"?n.name:"blob",a),n.name!==o||n[Dt]=="blob"?new it([n],o,n):n]:[a,n+""]),mn=(a,n)=>(n?a:a.replace(/\r?\n|\r/g,`\r
`)).replace(/\n/g,"%0A").replace(/\r/g,"%0D").replace(/"/g,"%22"),Ue=(a,n,o)=>{if(n.length<o)throw new TypeError(`Failed to execute '${a}' on 'FormData': ${o} arguments required, but only ${n.length} present.`)},je=class{#e=[];constructor(...n){if(n.length)throw new TypeError("Failed to construct 'FormData': parameter 1 is not of type 'HTMLFormElement'.")}get[Dt](){return"FormData"}[Ji](){return this.entries()}static[Zi](n){return n&&typeof n=="object"&&n[Dt]==="FormData"&&!Ki.some(o=>typeof n[o]!="function")}append(...n){Ue("append",arguments,2),this.#e.push(Uo(...n))}delete(n){Ue("delete",arguments,1),n+="",this.#e=this.#e.filter(([o])=>o!==n)}get(n){Ue("get",arguments,1),n+="";for(var o=this.#e,s=o.length,l=0;l<s;l++)if(o[l][0]===n)return o[l][1];return null}getAll(n,o){return Ue("getAll",arguments,1),o=[],n+="",this.#e.forEach(s=>s[0]===n&&o.push(s[1])),o}has(n){return Ue("has",arguments,1),n+="",this.#e.some(o=>o[0]===n)}forEach(n,o){Ue("forEach",arguments,1);for(var[s,l]of this)n.call(o,l,s,this)}set(...n){Ue("set",arguments,2);var o=[],s=!0;n=Uo(...n),this.#e.forEach(l=>{l[0]===n[0]?s&&(s=!o.push(n)):o.push(l)}),s&&o.push(n),this.#e=o}*entries(){yield*this.#e}*keys(){for(var[n]of this)yield n}*values(){for(var[,n]of this)yield n}}});var Go=fn((Ls,Qo)=>{if(!globalThis.DOMException)try{let{MessageChannel:a}=require("worker_threads"),n=new a().port1,o=new ArrayBuffer;n.postMessage(o,[o,o])}catch(a){a.constructor.name==="DOMException"&&(globalThis.DOMException=a.constructor)}Qo.exports=globalThis.DOMException});var Ot,Jo,Xi,Cr,bn=vt(()=>{Ot=require("node:fs"),Jo=Fe(Go(),1);hn();Bt();({stat:Xi}=Ot.promises),Cr=class{#e;#t;constructor(n){this.#e=n.path,this.#t=n.start,this.size=n.size,this.lastModified=n.lastModified}slice(n,o){return new Cr({path:this.#e,lastModified:this.lastModified,size:o-n,start:this.#t+n})}async*stream(){let{mtimeMs:n}=await Xi(this.#e);if(n>this.lastModified)throw new Jo.default("The requested file could not be read, typically due to permission problems that have occurred after a reference to a file was acquired.","NotReadableError");yield*(0,Ot.createReadStream)(this.#e,{start:this.#t,end:this.#t+this.size-1})}get[Symbol.toStringTag](){return"Blob"}}});var Ko={};qo(Ko,{toFormData:()=>is});function as(a){let n=a.match(/\bfilename=("(.*?)"|([^()<>@,;:\\"/[\]?={}\s\t]+))($|;\s)/i);if(!n)return;let o=n[2]||n[3]||"",s=o.slice(o.lastIndexOf("\\")+1);return s=s.replace(/%22/g,'"'),s=s.replace(/&#(\d{4});/g,(l,f)=>String.fromCharCode(f)),s}async function is(a,n){if(!/multipart/i.test(n))throw new TypeError("Failed to fetch");let o=n.match(/boundary=(?:"([^"]+)"|([^;]+))/i);if(!o)throw new TypeError("no or bad content-type header, no multipart boundary");let s=new yn(o[1]||o[2]),l,f,d,R,y,b,v=[],D=new je,S=k=>{d+=E.decode(k,{stream:!0})},p=k=>{v.push(k)},m=()=>{let k=new it(v,b,{type:y});D.append(R,k)},q=()=>{D.append(R,d)},E=new TextDecoder("utf-8");E.decode(),s.onPartBegin=function(){s.onPartData=S,s.onPartEnd=q,l="",f="",d="",R="",y="",b=null,v.length=0},s.onHeaderField=function(k){l+=E.decode(k,{stream:!0})},s.onHeaderValue=function(k){f+=E.decode(k,{stream:!0})},s.onHeaderEnd=function(){if(f+=E.decode(),l=l.toLowerCase(),l==="content-disposition"){let k=f.match(/\bname=("([^"]*)"|([^()<>@,;:\\"/[\]?={}\s\t]+))/i);k&&(R=k[2]||k[3]||""),b=as(f),b&&(s.onPartData=p,s.onPartEnd=m)}else l==="content-type"&&(y=f);f="",l=""};for await(let k of a)s.write(k);return s.end(),D}var be,$,Zo,Le,Tr,Er,es,Wt,ts,rs,ns,os,He,yn,Xo=vt(()=>{bn();wr();be=0,$={START_BOUNDARY:be++,HEADER_FIELD_START:be++,HEADER_FIELD:be++,HEADER_VALUE_START:be++,HEADER_VALUE:be++,HEADER_VALUE_ALMOST_DONE:be++,HEADERS_ALMOST_DONE:be++,PART_DATA_START:be++,PART_DATA:be++,END:be++},Zo=1,Le={PART_BOUNDARY:Zo,LAST_BOUNDARY:Zo*=2},Tr=10,Er=13,es=32,Wt=45,ts=58,rs=97,ns=122,os=a=>a|32,He=()=>{},yn=class{constructor(n){this.index=0,this.flags=0,this.onHeaderEnd=He,this.onHeaderField=He,this.onHeadersEnd=He,this.onHeaderValue=He,this.onPartBegin=He,this.onPartData=He,this.onPartEnd=He,this.boundaryChars={},n=`\r
--`+n;let o=new Uint8Array(n.length);for(let s=0;s<n.length;s++)o[s]=n.charCodeAt(s),this.boundaryChars[o[s]]=!0;this.boundary=o,this.lookbehind=new Uint8Array(this.boundary.length+8),this.state=$.START_BOUNDARY}write(n){let o=0,s=n.length,l=this.index,{lookbehind:f,boundary:d,boundaryChars:R,index:y,state:b,flags:v}=this,D=this.boundary.length,S=D-1,p=n.length,m,q,E=_=>{this[_+"Mark"]=o},k=_=>{delete this[_+"Mark"]},F=(_,x,z,me)=>{(x===void 0||x!==z)&&this[_](me&&me.subarray(x,z))},U=(_,x)=>{let z=_+"Mark";z in this&&(x?(F(_,this[z],o,n),delete this[z]):(F(_,this[z],n.length,n),this[z]=0))};for(o=0;o<s;o++)switch(m=n[o],b){case $.START_BOUNDARY:if(y===d.length-2){if(m===Wt)v|=Le.LAST_BOUNDARY;else if(m!==Er)return;y++;break}else if(y-1===d.length-2){if(v&Le.LAST_BOUNDARY&&m===Wt)b=$.END,v=0;else if(!(v&Le.LAST_BOUNDARY)&&m===Tr)y=0,F("onPartBegin"),b=$.HEADER_FIELD_START;else return;break}m!==d[y+2]&&(y=-2),m===d[y+2]&&y++;break;case $.HEADER_FIELD_START:b=$.HEADER_FIELD,E("onHeaderField"),y=0;case $.HEADER_FIELD:if(m===Er){k("onHeaderField"),b=$.HEADERS_ALMOST_DONE;break}if(y++,m===Wt)break;if(m===ts){if(y===1)return;U("onHeaderField",!0),b=$.HEADER_VALUE_START;break}if(q=os(m),q<rs||q>ns)return;break;case $.HEADER_VALUE_START:if(m===es)break;E("onHeaderValue"),b=$.HEADER_VALUE;case $.HEADER_VALUE:m===Er&&(U("onHeaderValue",!0),F("onHeaderEnd"),b=$.HEADER_VALUE_ALMOST_DONE);break;case $.HEADER_VALUE_ALMOST_DONE:if(m!==Tr)return;b=$.HEADER_FIELD_START;break;case $.HEADERS_ALMOST_DONE:if(m!==Tr)return;F("onHeadersEnd"),b=$.PART_DATA_START;break;case $.PART_DATA_START:b=$.PART_DATA,E("onPartData");case $.PART_DATA:if(l=y,y===0){for(o+=S;o<p&&!(n[o]in R);)o+=D;o-=S,m=n[o]}if(y<d.length)d[y]===m?(y===0&&U("onPartData",!0),y++):y=0;else if(y===d.length)y++,m===Er?v|=Le.PART_BOUNDARY:m===Wt?v|=Le.LAST_BOUNDARY:y=0;else if(y-1===d.length)if(v&Le.PART_BOUNDARY){if(y=0,m===Tr){v&=~Le.PART_BOUNDARY,F("onPartEnd"),F("onPartBegin"),b=$.HEADER_FIELD_START;break}}else v&Le.LAST_BOUNDARY&&m===Wt?(F("onPartEnd"),b=$.END,v=0):y=0;if(y>0)f[y-1]=m;else if(l>0){let _=new Uint8Array(f.buffer,f.byteOffset,f.byteLength);F("onPartData",0,l,_),l=0,E("onPartData"),o--}break;case $.END:break;default:throw new Error(`Unexpected state entered: ${b}`)}U("onHeaderField"),U("onHeaderValue"),U("onPartData"),this.index=y,this.state=b,this.flags=v}end(){if(this.state===$.HEADER_FIELD_START&&this.index===0||this.state===$.PART_DATA&&this.index===this.boundary.length)this.onPartEnd();else if(this.state!==$.END)throw new Error("MultipartParser.end(): stream ended unexpectedly")}}});var ys={};qo(ys,{default:()=>ga});module.exports=Hi(ys);var ma=Fe(require("node:http"),1),pa=Fe(require("node:https"),1),Ve=Fe(require("node:zlib"),1),ne=Fe(require("node:stream"),1),Lt=require("node:buffer");function Vi(a){if(!/^data:/i.test(a))throw new TypeError('`uri` does not appear to be a Data URI (must begin with "data:")');a=a.replace(/\r?\n/g,"");let n=a.indexOf(",");if(n===-1||n<=4)throw new TypeError("malformed data: URI");let o=a.substring(5,n).split(";"),s="",l=!1,f=o[0]||"text/plain",d=f;for(let v=1;v<o.length;v++)o[v]==="base64"?l=!0:o[v]&&(d+=`;${o[v]}`,o[v].indexOf("charset=")===0&&(s=o[v].substring(8)));!o[0]&&!s.length&&(d+=";charset=US-ASCII",s="US-ASCII");let R=l?"base64":"ascii",y=unescape(a.substring(n+1)),b=Buffer.from(y,R);return b.type=f,b.typeFull=d,b.charset=s,b}var Lo=Vi;var ie=Fe(require("node:stream"),1),Ee=require("node:util"),re=require("node:buffer");Bt();wr();var Te=class extends Error{constructor(n,o){super(n),Error.captureStackTrace(this,this.constructor),this.type=o}get name(){return this.constructor.name}get[Symbol.toStringTag](){return this.constructor.name}};var X=class extends Te{constructor(n,o,s){super(n,o),s&&(this.code=this.errno=s.code,this.erroredSysCall=s.syscall)}};var Rr=Symbol.toStringTag,pn=a=>typeof a=="object"&&typeof a.append=="function"&&typeof a.delete=="function"&&typeof a.get=="function"&&typeof a.getAll=="function"&&typeof a.has=="function"&&typeof a.set=="function"&&typeof a.sort=="function"&&a[Rr]==="URLSearchParams",kt=a=>a&&typeof a=="object"&&typeof a.arrayBuffer=="function"&&typeof a.type=="string"&&typeof a.stream=="function"&&typeof a.constructor=="function"&&/^(Blob|File)$/.test(a[Rr]),Ho=a=>typeof a=="object"&&(a[Rr]==="AbortSignal"||a[Rr]==="EventTarget"),Vo=(a,n)=>{let o=new URL(n).hostname,s=new URL(a).hostname;return o===s||o.endsWith(`.${s}`)},Yo=(a,n)=>{let o=new URL(n).protocol,s=new URL(a).protocol;return o===s};var ss=(0,Ee.promisify)(ie.default.pipeline),ee=Symbol("Body internals"),ye=class{constructor(n,{size:o=0}={}){let s=null;n===null?n=null:pn(n)?n=re.Buffer.from(n.toString()):kt(n)||re.Buffer.isBuffer(n)||(Ee.types.isAnyArrayBuffer(n)?n=re.Buffer.from(n):ArrayBuffer.isView(n)?n=re.Buffer.from(n.buffer,n.byteOffset,n.byteLength):n instanceof ie.default||(n instanceof je?(n=jo(n),s=n.type.split("=")[1]):n=re.Buffer.from(String(n))));let l=n;re.Buffer.isBuffer(n)?l=ie.default.Readable.from(n):kt(n)&&(l=ie.default.Readable.from(n.stream())),this[ee]={body:n,stream:l,boundary:s,disturbed:!1,error:null},this.size=o,n instanceof ie.default&&n.on("error",f=>{let d=f instanceof Te?f:new X(`Invalid response body while trying to fetch ${this.url}: ${f.message}`,"system",f);this[ee].error=d})}get body(){return this[ee].stream}get bodyUsed(){return this[ee].disturbed}async arrayBuffer(){let{buffer:n,byteOffset:o,byteLength:s}=await gn(this);return n.slice(o,o+s)}async formData(){let n=this.headers.get("content-type");if(n.startsWith("application/x-www-form-urlencoded")){let s=new je,l=new URLSearchParams(await this.text());for(let[f,d]of l)s.append(f,d);return s}let{toFormData:o}=await Promise.resolve().then(()=>(Xo(),Ko));return o(this.body,n)}async blob(){let n=this.headers&&this.headers.get("content-type")||this[ee].body&&this[ee].body.type||"",o=await this.arrayBuffer();return new Ce([o],{type:n})}async json(){let n=await this.text();return JSON.parse(n)}async text(){let n=await gn(this);return new TextDecoder().decode(n)}buffer(){return gn(this)}};ye.prototype.buffer=(0,Ee.deprecate)(ye.prototype.buffer,"Please use 'response.arrayBuffer()' instead of 'response.buffer()'","node-fetch#buffer");Object.defineProperties(ye.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},blob:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0},data:{get:(0,Ee.deprecate)(()=>{},"data doesn't exist, use json(), text(), arrayBuffer(), or body instead","https://github.com/node-fetch/node-fetch/issues/1000 (response)")}});async function gn(a){if(a[ee].disturbed)throw new TypeError(`body used already for: ${a.url}`);if(a[ee].disturbed=!0,a[ee].error)throw a[ee].error;let{body:n}=a;if(n===null)return re.Buffer.alloc(0);if(!(n instanceof ie.default))return re.Buffer.alloc(0);let o=[],s=0;try{for await(let l of n){if(a.size>0&&s+l.length>a.size){let f=new X(`content size at ${a.url} over limit: ${a.size}`,"max-size");throw n.destroy(f),f}s+=l.length,o.push(l)}}catch(l){throw l instanceof Te?l:new X(`Invalid response body while trying to fetch ${a.url}: ${l.message}`,"system",l)}if(n.readableEnded===!0||n._readableState.ended===!0)try{return o.every(l=>typeof l=="string")?re.Buffer.from(o.join("")):re.Buffer.concat(o,s)}catch(l){throw new X(`Could not create Buffer from response body for ${a.url}: ${l.message}`,"system",l)}else throw new X(`Premature close of server response while trying to fetch ${a.url}`)}var st=(a,n)=>{let o,s,{body:l}=a[ee];if(a.bodyUsed)throw new Error("cannot clone body after it is used");return l instanceof ie.default&&typeof l.getBoundary!="function"&&(o=new ie.PassThrough({highWaterMark:n}),s=new ie.PassThrough({highWaterMark:n}),l.pipe(o),l.pipe(s),a[ee].stream=o,l=s),l},ls=(0,Ee.deprecate)(a=>a.getBoundary(),"form-data doesn't follow the spec and requires special treatment. Use alternative package","https://github.com/node-fetch/node-fetch/issues/1167"),Ar=(a,n)=>a===null?null:typeof a=="string"?"text/plain;charset=UTF-8":pn(a)?"application/x-www-form-urlencoded;charset=UTF-8":kt(a)?a.type||null:re.Buffer.isBuffer(a)||Ee.types.isAnyArrayBuffer(a)||ArrayBuffer.isView(a)?null:a instanceof je?`multipart/form-data; boundary=${n[ee].boundary}`:a&&typeof a.getBoundary=="function"?`multipart/form-data;boundary=${ls(a)}`:a instanceof ie.default?null:"text/plain;charset=UTF-8",ea=a=>{let{body:n}=a[ee];return n===null?0:kt(n)?n.size:re.Buffer.isBuffer(n)?n.length:n&&typeof n.getLengthSync=="function"&&n.hasKnownLength&&n.hasKnownLength()?n.getLengthSync():null},ta=async(a,{body:n})=>{n===null?a.end():await ss(n,a)};var Sn=require("node:util"),qt=Fe(require("node:http"),1),Pr=typeof qt.default.validateHeaderName=="function"?qt.default.validateHeaderName:a=>{if(!/^[\^`\-\w!#$%&'*+.|~]+$/.test(a)){let n=new TypeError(`Header name must be a valid HTTP token [${a}]`);throw Object.defineProperty(n,"code",{value:"ERR_INVALID_HTTP_TOKEN"}),n}},_n=typeof qt.default.validateHeaderValue=="function"?qt.default.validateHeaderValue:(a,n)=>{if(/[^\t\u0020-\u007E\u0080-\u00FF]/.test(n)){let o=new TypeError(`Invalid character in header content ["${a}"]`);throw Object.defineProperty(o,"code",{value:"ERR_INVALID_CHAR"}),o}},Z=class extends URLSearchParams{constructor(n){let o=[];if(n instanceof Z){let s=n.raw();for(let[l,f]of Object.entries(s))o.push(...f.map(d=>[l,d]))}else if(n!=null)if(typeof n=="object"&&!Sn.types.isBoxedPrimitive(n)){let s=n[Symbol.iterator];if(s==null)o.push(...Object.entries(n));else{if(typeof s!="function")throw new TypeError("Header pairs must be iterable");o=[...n].map(l=>{if(typeof l!="object"||Sn.types.isBoxedPrimitive(l))throw new TypeError("Each header pair must be an iterable object");return[...l]}).map(l=>{if(l.length!==2)throw new TypeError("Each header pair must be a name/value tuple");return[...l]})}}else throw new TypeError("Failed to construct 'Headers': The provided value is not of type '(sequence<sequence<ByteString>> or record<ByteString, ByteString>)");return o=o.length>0?o.map(([s,l])=>(Pr(s),_n(s,String(l)),[String(s).toLowerCase(),String(l)])):void 0,super(o),new Proxy(this,{get(s,l,f){switch(l){case"append":case"set":return(d,R)=>(Pr(d),_n(d,String(R)),URLSearchParams.prototype[l].call(s,String(d).toLowerCase(),String(R)));case"delete":case"has":case"getAll":return d=>(Pr(d),URLSearchParams.prototype[l].call(s,String(d).toLowerCase()));case"keys":return()=>(s.sort(),new Set(URLSearchParams.prototype.keys.call(s)).keys());default:return Reflect.get(s,l,f)}}})}get[Symbol.toStringTag](){return this.constructor.name}toString(){return Object.prototype.toString.call(this)}get(n){let o=this.getAll(n);if(o.length===0)return null;let s=o.join(", ");return/^content-encoding$/i.test(n)&&(s=s.toLowerCase()),s}forEach(n,o=void 0){for(let s of this.keys())Reflect.apply(n,o,[this.get(s),s,this])}*values(){for(let n of this.keys())yield this.get(n)}*entries(){for(let n of this.keys())yield[n,this.get(n)]}[Symbol.iterator](){return this.entries()}raw(){return[...this.keys()].reduce((n,o)=>(n[o]=this.getAll(o),n),{})}[Symbol.for("nodejs.util.inspect.custom")](){return[...this.keys()].reduce((n,o)=>{let s=this.getAll(o);return o==="host"?n[o]=s[0]:n[o]=s.length>1?s:s[0],n},{})}};Object.defineProperties(Z.prototype,["get","entries","forEach","values"].reduce((a,n)=>(a[n]={enumerable:!0},a),{}));function ra(a=[]){return new Z(a.reduce((n,o,s,l)=>(s%2===0&&n.push(l.slice(s,s+2)),n),[]).filter(([n,o])=>{try{return Pr(n),_n(n,String(o)),!0}catch{return!1}}))}var us=new Set([301,302,303,307,308]),vr=a=>us.has(a);var ce=Symbol("Response internals"),Q=class extends ye{constructor(n=null,o={}){super(n,o);let s=o.status!=null?o.status:200,l=new Z(o.headers);if(n!==null&&!l.has("Content-Type")){let f=Ar(n,this);f&&l.append("Content-Type",f)}this[ce]={type:"default",url:o.url,status:s,statusText:o.statusText||"",headers:l,counter:o.counter,highWaterMark:o.highWaterMark}}get type(){return this[ce].type}get url(){return this[ce].url||""}get status(){return this[ce].status}get ok(){return this[ce].status>=200&&this[ce].status<300}get redirected(){return this[ce].counter>0}get statusText(){return this[ce].statusText}get headers(){return this[ce].headers}get highWaterMark(){return this[ce].highWaterMark}clone(){return new Q(st(this,this.highWaterMark),{type:this.type,url:this.url,status:this.status,statusText:this.statusText,headers:this.headers,ok:this.ok,redirected:this.redirected,size:this.size,highWaterMark:this.highWaterMark})}static redirect(n,o=302){if(!vr(o))throw new RangeError('Failed to execute "redirect" on "response": Invalid status code');return new Q(null,{headers:{location:new URL(n).toString()},status:o})}static error(){let n=new Q(null,{status:0,statusText:""});return n[ce].type="error",n}static json(n=void 0,o={}){let s=JSON.stringify(n);if(s===void 0)throw new TypeError("data is not JSON serializable");let l=new Z(o&&o.headers);return l.has("content-type")||l.set("content-type","application/json"),new Q(s,{...o,headers:l})}get[Symbol.toStringTag](){return"Response"}};Object.defineProperties(Q.prototype,{type:{enumerable:!0},url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}});var ca=require("node:url"),da=require("node:util");var na=a=>{if(a.search)return a.search;let n=a.href.length-1,o=a.hash||(a.href[n]==="#"?"#":"");return a.href[n-o.length]==="?"?"?":""};var aa=require("node:net");function oa(a,n=!1){return a==null||(a=new URL(a),/^(about|blob|data):$/.test(a.protocol))?"no-referrer":(a.username="",a.password="",a.hash="",n&&(a.pathname="",a.search=""),a)}var ia=new Set(["","no-referrer","no-referrer-when-downgrade","same-origin","origin","strict-origin","origin-when-cross-origin","strict-origin-when-cross-origin","unsafe-url"]),sa="strict-origin-when-cross-origin";function la(a){if(!ia.has(a))throw new TypeError(`Invalid referrerPolicy: ${a}`);return a}function fs(a){if(/^(http|ws)s:$/.test(a.protocol))return!0;let n=a.host.replace(/(^\[)|(]$)/g,""),o=(0,aa.isIP)(n);return o===4&&/^127\./.test(n)||o===6&&/^(((0+:){7})|(::(0+:){0,6}))0*1$/.test(n)?!0:a.host==="localhost"||a.host.endsWith(".localhost")?!1:a.protocol==="file:"}function lt(a){return/^about:(blank|srcdoc)$/.test(a)||a.protocol==="data:"||/^(blob|filesystem):$/.test(a.protocol)?!0:fs(a)}function ua(a,{referrerURLCallback:n,referrerOriginCallback:o}={}){if(a.referrer==="no-referrer"||a.referrerPolicy==="")return null;let s=a.referrerPolicy;if(a.referrer==="about:client")return"no-referrer";let l=a.referrer,f=oa(l),d=oa(l,!0);f.toString().length>4096&&(f=d),n&&(f=n(f)),o&&(d=o(d));let R=new URL(a.url);switch(s){case"no-referrer":return"no-referrer";case"origin":return d;case"unsafe-url":return f;case"strict-origin":return lt(f)&&!lt(R)?"no-referrer":d.toString();case"strict-origin-when-cross-origin":return f.origin===R.origin?f:lt(f)&&!lt(R)?"no-referrer":d;case"same-origin":return f.origin===R.origin?f:"no-referrer";case"origin-when-cross-origin":return f.origin===R.origin?f:d;case"no-referrer-when-downgrade":return lt(f)&&!lt(R)?"no-referrer":f;default:throw new TypeError(`Invalid referrerPolicy: ${s}`)}}function fa(a){let n=(a.get("referrer-policy")||"").split(/[,\s]+/),o="";for(let s of n)s&&ia.has(s)&&(o=s);return o}var V=Symbol("Request internals"),Ft=a=>typeof a=="object"&&typeof a[V]=="object",cs=(0,da.deprecate)(()=>{},".data is not a valid RequestInit property, use .body instead","https://github.com/node-fetch/node-fetch/issues/1000 (request)"),Ae=class extends ye{constructor(n,o={}){let s;if(Ft(n)?s=new URL(n.url):(s=new URL(n),n={}),s.username!==""||s.password!=="")throw new TypeError(`${s} is an url with embedded credentials.`);let l=o.method||n.method||"GET";if(/^(delete|get|head|options|post|put)$/i.test(l)&&(l=l.toUpperCase()),!Ft(o)&&"data"in o&&cs(),(o.body!=null||Ft(n)&&n.body!==null)&&(l==="GET"||l==="HEAD"))throw new TypeError("Request with GET/HEAD method cannot have body");let f=o.body?o.body:Ft(n)&&n.body!==null?st(n):null;super(f,{size:o.size||n.size||0});let d=new Z(o.headers||n.headers||{});if(f!==null&&!d.has("Content-Type")){let b=Ar(f,this);b&&d.set("Content-Type",b)}let R=Ft(n)?n.signal:null;if("signal"in o&&(R=o.signal),R!=null&&!Ho(R))throw new TypeError("Expected signal to be an instanceof AbortSignal or EventTarget");let y=o.referrer==null?n.referrer:o.referrer;if(y==="")y="no-referrer";else if(y){let b=new URL(y);y=/^about:(\/\/)?client$/.test(b)?"client":b}else y=void 0;this[V]={method:l,redirect:o.redirect||n.redirect||"follow",headers:d,parsedURL:s,signal:R,referrer:y},this.follow=o.follow===void 0?n.follow===void 0?20:n.follow:o.follow,this.compress=o.compress===void 0?n.compress===void 0?!0:n.compress:o.compress,this.counter=o.counter||n.counter||0,this.agent=o.agent||n.agent,this.highWaterMark=o.highWaterMark||n.highWaterMark||16384,this.insecureHTTPParser=o.insecureHTTPParser||n.insecureHTTPParser||!1,this.referrerPolicy=o.referrerPolicy||n.referrerPolicy||""}get method(){return this[V].method}get url(){return(0,ca.format)(this[V].parsedURL)}get headers(){return this[V].headers}get redirect(){return this[V].redirect}get signal(){return this[V].signal}get referrer(){if(this[V].referrer==="no-referrer")return"";if(this[V].referrer==="client")return"about:client";if(this[V].referrer)return this[V].referrer.toString()}get referrerPolicy(){return this[V].referrerPolicy}set referrerPolicy(n){this[V].referrerPolicy=la(n)}clone(){return new Ae(this)}get[Symbol.toStringTag](){return"Request"}};Object.defineProperties(Ae.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0},referrer:{enumerable:!0},referrerPolicy:{enumerable:!0}});var ha=a=>{let{parsedURL:n}=a[V],o=new Z(a[V].headers);o.has("Accept")||o.set("Accept","*/*");let s=null;if(a.body===null&&/^(post|put)$/i.test(a.method)&&(s="0"),a.body!==null){let R=ea(a);typeof R=="number"&&!Number.isNaN(R)&&(s=String(R))}s&&o.set("Content-Length",s),a.referrerPolicy===""&&(a.referrerPolicy=sa),a.referrer&&a.referrer!=="no-referrer"?a[V].referrer=ua(a):a[V].referrer="no-referrer",a[V].referrer instanceof URL&&o.set("Referer",a.referrer),o.has("User-Agent")||o.set("User-Agent","node-fetch"),a.compress&&!o.has("Accept-Encoding")&&o.set("Accept-Encoding","gzip, deflate, br");let{agent:l}=a;typeof l=="function"&&(l=l(n)),!o.has("Connection")&&!l&&o.set("Connection","close");let f=na(n),d={path:n.pathname+f,method:a.method,headers:o[Symbol.for("nodejs.util.inspect.custom")](),insecureHTTPParser:a.insecureHTTPParser,agent:l};return{parsedURL:n,options:d}};var Br=class extends Te{constructor(n,o="aborted"){super(n,o)}};wr();bn();var ds=new Set(["data:","http:","https:"]);async function Dr(a,n){return new Promise((o,s)=>{let l=new Ae(a,n),{parsedURL:f,options:d}=ha(l);if(!ds.has(f.protocol))throw new TypeError(`node-fetch cannot load ${a}. URL scheme "${f.protocol.replace(/:$/,"")}" is not supported.`);if(f.protocol==="data:"){let m=Lo(l.url),q=new Q(m,{headers:{"Content-Type":m.typeFull}});o(q);return}let R=(f.protocol==="https:"?pa.default:ma.default).request,{signal:y}=l,b=null,v=()=>{let m=new Br("The operation was aborted.");s(m),l.body&&l.body instanceof ne.default.Readable&&l.body.destroy(m),!(!b||!b.body)&&b.body.emit("error",m)};if(y&&y.aborted){v();return}let D=()=>{v(),p()},S=R(f.toString(),d);y&&y.addEventListener("abort",D);let p=()=>{S.abort(),y&&y.removeEventListener("abort",D)};S.on("error",m=>{s(new X(`request to ${l.url} failed, reason: ${m.message}`,"system",m)),p()}),hs(S,m=>{b&&b.body&&b.body.destroy(m)}),process.version<"v14"&&S.on("socket",m=>{let q;m.prependListener("end",()=>{q=m._eventsCount}),m.prependListener("close",E=>{if(b&&q<m._eventsCount&&!E){let k=new Error("Premature close");k.code="ERR_STREAM_PREMATURE_CLOSE",b.body.emit("error",k)}})}),S.on("response",m=>{S.setTimeout(0);let q=ra(m.rawHeaders);if(vr(m.statusCode)){let _=q.get("Location"),x=null;try{x=_===null?null:new URL(_,l.url)}catch{if(l.redirect!=="manual"){s(new X(`uri requested responds with an invalid redirect URL: ${_}`,"invalid-redirect")),p();return}}switch(l.redirect){case"error":s(new X(`uri requested responds with a redirect, redirect mode is set to error: ${l.url}`,"no-redirect")),p();return;case"manual":break;case"follow":{if(x===null)break;if(l.counter>=l.follow){s(new X(`maximum redirect reached at: ${l.url}`,"max-redirect")),p();return}let z={headers:new Z(l.headers),follow:l.follow,counter:l.counter+1,agent:l.agent,compress:l.compress,method:l.method,body:st(l),signal:l.signal,size:l.size,referrer:l.referrer,referrerPolicy:l.referrerPolicy};if(!Vo(l.url,x)||!Yo(l.url,x))for(let G of["authorization","www-authenticate","cookie","cookie2"])z.headers.delete(G);if(m.statusCode!==303&&l.body&&n.body instanceof ne.default.Readable){s(new X("Cannot follow redirect with body being a readable stream","unsupported-redirect")),p();return}(m.statusCode===303||(m.statusCode===301||m.statusCode===302)&&l.method==="POST")&&(z.method="GET",z.body=void 0,z.headers.delete("content-length"));let me=fa(q);me&&(z.referrerPolicy=me),o(Dr(new Ae(x,z))),p();return}default:return s(new TypeError(`Redirect option '${l.redirect}' is not a valid value of RequestRedirect`))}}y&&m.once("end",()=>{y.removeEventListener("abort",D)});let E=(0,ne.pipeline)(m,new ne.PassThrough,_=>{_&&s(_)});process.version<"v12.10"&&m.on("aborted",D);let k={url:l.url,status:m.statusCode,statusText:m.statusMessage,headers:q,size:l.size,counter:l.counter,highWaterMark:l.highWaterMark},F=q.get("Content-Encoding");if(!l.compress||l.method==="HEAD"||F===null||m.statusCode===204||m.statusCode===304){b=new Q(E,k),o(b);return}let U={flush:Ve.default.Z_SYNC_FLUSH,finishFlush:Ve.default.Z_SYNC_FLUSH};if(F==="gzip"||F==="x-gzip"){E=(0,ne.pipeline)(E,Ve.default.createGunzip(U),_=>{_&&s(_)}),b=new Q(E,k),o(b);return}if(F==="deflate"||F==="x-deflate"){let _=(0,ne.pipeline)(m,new ne.PassThrough,x=>{x&&s(x)});_.once("data",x=>{(x[0]&15)===8?E=(0,ne.pipeline)(E,Ve.default.createInflate(),z=>{z&&s(z)}):E=(0,ne.pipeline)(E,Ve.default.createInflateRaw(),z=>{z&&s(z)}),b=new Q(E,k),o(b)}),_.once("end",()=>{b||(b=new Q(E,k),o(b))});return}if(F==="br"){E=(0,ne.pipeline)(E,Ve.default.createBrotliDecompress(),_=>{_&&s(_)}),b=new Q(E,k),o(b);return}b=new Q(E,k),o(b)}),ta(S,l).catch(s)})}function hs(a,n){let o=Lt.Buffer.from(`0\r
\r
`),s=!1,l=!1,f;a.on("response",d=>{let{headers:R}=d;s=R["transfer-encoding"]==="chunked"&&!R["content-length"]}),a.on("socket",d=>{let R=()=>{if(s&&!l){let b=new Error("Premature close");b.code="ERR_STREAM_PREMATURE_CLOSE",n(b)}},y=b=>{l=Lt.Buffer.compare(b.slice(-5),o)===0,!l&&f&&(l=Lt.Buffer.compare(f.slice(-3),o.slice(0,3))===0&&Lt.Buffer.compare(b.slice(-2),o.slice(3))===0),f=b};d.prependListener("close",R),d.on("data",y),a.on("close",()=>{d.removeListener("close",R),d.removeListener("data",y)})})}var It=require("@raycast/api");var kr,Or,ms=async a=>{kr={baseURL:"https://bard.google.com",headers:{Host:"bard.google.com","X-Same-Domain":"1","User-Agent":"Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.114 Safari/537.36","Content-Type":"application/x-www-form-urlencoded;charset=UTF-8",Origin:"https://bard.google.com",Referer:"https://bard.google.com/",Cookie:`__Secure-1PSID=${a};`}};let s=(await(await fetch("https://bard.google.com/",{method:"GET",headers:kr.headers,credentials:"include"})).text()).match(/SNlM0e":"(.*?)"/);if(s)Or=s[1];else throw new Error("Could not get Google Bard.");return Or},wn=async(a,n={})=>{if(!Or)throw new Error("Make sure to call Bard.init(SESSION_ID) first.");let o={bl:"boq_assistant-bard-web-server_20230711.08_p0",_reqID:n._reqID?`${n._reqID}`:"0",rt:"c"},s=[[a],null,n?Object.values(n).slice(0,3):[null,null,null]],l={"f.req":JSON.stringify([null,JSON.stringify(s)]),at:Or},f=new URL("/_/BardChatUi/data/assistant.lamda.BardFrontendService/StreamGenerate",kr.baseURL);Object.keys(o).forEach(m=>f.searchParams.append(m,o[m]));let d=[];for(let m in l){let q=encodeURIComponent(m),E=encodeURIComponent(l[m]);d.push(q+"="+E)}d=d.join("&");let y=await(await fetch(f.toString(),{method:"POST",headers:kr.headers,body:d,credentials:"include"})).text(),b=JSON.parse(y.split(`
`)[3])[0][2];if(!b)throw new Error(`Google Bard encountered an error ${y}.`);let v=JSON.parse(b),D=JSON.parse(b)[4][0],S=D[1][0],p=D[4]?.map(m=>({tag:m[2],url:m[3][0][0],source:{original:m[0][0][0],website:m[1][0][0],name:m[1][1],favicon:m[1][3]}}));return{content:ps(S,p),images:p,ids:{conversationID:v[1][0],responseID:v[1][1],choiceID:v[4][0][0],_reqID:parseInt(n._reqID??0)+1e5}}},ps=(a,n)=>{if(!n)return a;for(let o of n){let s=`!${o.tag}(${o.url})`;a=a.replace(new RegExp("(?<!!)"+o.tag.replace("[","\\[").replace("]","\\]")),s)}return a},bs=async(a,n=!1)=>n?await wn(a):(await wn(a)).content,Rn=class{constructor(n){this.ids=n}async ask(n,o=!1){let s=await wn(n,this.ids);return this.ids={...s.ids},o?s:s.content}export(){return this.ids}},ut={init:ms,askAI:bs,Chat:Rn};var M=require("@raycast/api"),he=require("react"),w=require("@raycast/api");var Ye=require("@raycast/api"),de=require("react"),Wr=new Proxy(()=>Wr,{get:()=>Wr,apply:()=>Wr});function Cn(){let[a,n]=(0,de.useState)(null),[o,s]=(0,de.useState)({}),[l,f]=(0,de.useState)(null),d={CONV:"conversation",CONV_NAME:"conversationName"},R={CONV:[{name:"New Conversation",ids:{conversationID:void 0,responseID:void 0,choiceID:void 0,_reqID:"0"},questions:[]}],CONV_NAME:"New Conversation"},[y,b]=(0,de.useState)(!1);(0,de.useEffect)(()=>{b(a!==null&&l!==null&&o[l]!==void 0)},[a,l,o]);let v=(E=a,k=l)=>y?E[o[k]]:Wr,D=E=>(async()=>{await Ye.LocalStorage.setItem(d.CONV,JSON.stringify(E))})(),S=E=>(async()=>{await Ye.LocalStorage.setItem(d.CONV_NAME,E)})(),p=async()=>{let E=await Ye.LocalStorage.getItem(d.CONV);return E!==void 0?JSON.parse(E):void 0},m=async()=>await Ye.LocalStorage.getItem(d.CONV_NAME),q=E=>{s(E.reduce((k,F,U)=>({...k,[F.name]:U}),{}))};return(0,de.useEffect)(()=>{y&&q(a)},[a]),(0,de.useEffect)(()=>{(async()=>{await p()||D(R.CONV),await m()||S(R.CONV_NAME);let E=await p();n(E);let k=await m();f(k),q(E)})()},[]),(0,de.useEffect)(()=>{y&&(async()=>await Ye.LocalStorage.setItem(d.CONV_NAME,l))()},[l]),(0,de.useEffect)(()=>{y&&(async()=>await Ye.LocalStorage.setItem(d.CONV,JSON.stringify(a)))()},[a]),{name:[l,f],list:[a,n],nameToIndexMap:o,isLoaded:y,getCurrentConversation:v}}var ba=require("@raycast/api"),ya=require("@raycast/api");globalThis.fetch=Dr;function ga(){let{name:[a,n],list:[o,s],nameToIndexMap:l,isLoaded:f,getCurrentConversation:d}=Cn(),[R,y]=(0,he.useState)(!0),[b,v]=(0,he.useState)(""),[D,S]=(0,he.useState)(!1),[p,m]=(0,he.useState)(!0),[q,E]=(0,he.useState)(!0),k=(0,It.getPreferenceValues)();(0,he.useEffect)(()=>{(async()=>{try{let P=Date.now();_(M.Toast.Style.Animated,"Please wait for Bard to initialize."),m(!0),await ut.init(k["__Secure-1PSID"]),m(!1),_(M.Toast.Style.Success,`Bard initialized in ${(Date.now()-P)/1e3} seconds.`),E(!1)}catch{y(!1),_(M.Toast.Style.Failure,"Bard couldn't connect."),E(!1)}s(P=>{let A=structuredClone(P),H=d(A),Y=H.questions[0];return Y.ids=F.export(),H.ids=Y.ids,A})})()},[]),(0,he.useEffect)(()=>{let C=d().questions;if(typeof C=="object"&&!p&&f&&C.length&&C[0].response==="Loading..."){let P=Date.now();S(!0),_(M.Toast.Style.Animated,"Getting response from Bard..."),(async()=>{let A=await F.ask(C[0].question);_(M.Toast.Style.Success,`Response recieved in ${(Date.now()-P)/1e3} seconds`),s(H=>{let Y=structuredClone(H),Pe=d(Y),dt=Pe.questions[0];return dt.response=A,dt.ids=F.export(),Pe.ids=dt.ids,S(!1),Y})})()}},[f,p]);let[F,U]=(0,he.useState)(new ut.Chat);(0,he.useEffect)(()=>{typeof d().ids=="object"?U(new ut.Chat(d().ids)):U(new ut.Chat)},[o,a]);let _=(C,P)=>(async()=>await(0,M.showToast)({style:C,title:P}))(),x=async()=>{if(p)_(M.Toast.Style.Failure,"Bard is still initialzing.");else if(R)if(b)if(D){_(M.Toast.Style.Failure,"Please wait for current message to finish loading.");return}else{v(""),S(!0);let C=Date.now();_(M.Toast.Style.Animated,"Getting response from Bard..."),s(P=>{let A=structuredClone(P);return d(A).questions.unshift({question:b,response:"Loading...",metadata:{conversationID:"Loading IDs...",responseID:"Loading IDs...",date:new Date}}),A});try{let P=await F.ask(b);_(M.Toast.Style.Success,`Response recieved in ${(Date.now()-C)/1e3} seconds`),s(A=>{let H=structuredClone(A),Y=d(H),Pe=Y.questions[0];return Pe.response=P,Pe.ids=F.export(),Y.ids=Pe.ids,S(!1),H})}catch{_(M.Toast.Style.Failure,"Bard appears to be unavailable at this time."),s(P=>{let A=structuredClone(P),H=d(A).questions[0];return H.response="Failure to fetch Bard",S(!1),A})}}else{_(M.Toast.Style.Failure,"Cannot submit empty message.");return}else{_(M.Toast.Style.Failure,"Bard appears to be unavailable at this time.");return}},z=async()=>{if(await(0,w.confirmAlert)({title:"Confirm Rset",message:"Are you sure you want to delete this conversation? This is an irreversible action.",primaryAction:{title:"Delete",style:w.Alert.ActionStyle.Destructive}})){let C=l[a];s(P=>{let A=structuredClone(P);return A.length===1?(A[0].ids={},A[0].questions=[],A[0].name="New Conversation",l=["New Conversation"],_(M.Toast.Style.Success,`Deleted only conversation, "${a}", and restored a new conversation.`),A):(A.splice(C,1),n(A[C===0?C:C-1].name),_(M.Toast.Style.Success,`Successfully deleted conversation "${a}"`),A)})}},me=async()=>{await(0,w.confirmAlert)({title:"Confirm Reset",message:"Are you sure you want to reset this conversation? This is an irreversible action.",primaryAction:{title:"Reset",style:w.Alert.ActionStyle.Destructive}})&&s(C=>{let P=structuredClone(C);return d(P).questions=[],_(M.Toast.Style.Success,`Successfully reset conversation "${a}"`),P})},G=async()=>{await(0,w.confirmAlert)({title:"Confirm Purge",message:"Are you sure you want to completely clear all memory associated with the Google Bard extension? This is an irreversable action, and will result in the loss of all of your conversations, messages, and answers.",primaryAction:{title:"Continue",style:w.Alert.ActionStyle.Destructive}})&&await(0,w.confirmAlert)({title:"About to Purge",message:"Clicking on purge will remove all conversations and messages. Please be sure.",primaryAction:{title:"Purge",style:w.Alert.ActionStyle.Destructive}})&&await ba.LocalStorage.clear()},zt=()=>{let C=l[a];if(C>0){let P=o[C-1].name;n(P),_(M.Toast.Style.Success,`Moved to previous conversation, "${P}"`)}else _(M.Toast.Style.Failure,"No previous conversations.")},ft=()=>{let C=l[a];if(C<o.length-1){let P=o[C+1].name;n(P),_(M.Toast.Style.Success,`Moved to next conversation, "${P}"`)}else _(M.Toast.Style.Failure,"No newer conversations.")};function oe(C="Create Conversation",P=()=>{}){return _jsx(w.Form,{actions:_jsx(w.ActionPanel,null,_jsx(w.Action.SubmitForm,{title:C,onSubmit:P}))},_jsx(w.Form.TextField,{id:"name",title:"Name",placeholder:"New Conversation Name"}))}let ge=C=>{let P=!0;return o.map(A=>A.name).includes(C)&&(_(M.Toast.Style.Failure,`Conversation "${C}" already exists`),P=!1),C||(_(M.Toast.Style.Failure,"Conversation name cannot be empty"),P=!1),R||(_(M.Toast.Style.Failure,"Please wait until Bard has reconnected."),P=!1),p&&(_(M.Toast.Style.Failure,"Bard is still initialzing."),P=!1),P},ct=()=>{let{pop:C}=(0,It.useNavigation)();return oe("Create Conversation",({name:A})=>{if(!ge(A)){C();return}s(H=>{U(new ut.Chat);let Y=[...structuredClone(H),{name:A,questions:[]}];return l[A]=Y.length-1,n(A),Y}),_(M.Toast.Style.Success,`Sucessfully created converation "${A}"`),C()})},Mt=()=>{let{pop:C}=(0,It.useNavigation)();return oe("Rename Conversation",({name:A})=>{if(!ge(A)){C();return}s(H=>{let Y=structuredClone(H);return Y[l[a]].name=A,l[A]=l[a],delete l[a],n(A),Y}),_(M.Toast.Style.Success,`Sucessfully renamed converation to "${A}"`),C()})},qr=async C=>{await ya.Clipboard.copy(C),_(M.Toast.Style.Success,"Successfully copied response message.")},Qe=({response:C})=>_jsx(w.ActionPanel,null,_jsx(w.ActionPanel.Section,{title:"Google Bard"},_jsx(w.Action,{icon:w.Icon.Stars,title:"Get Answer",onAction:x}),_jsx(w.Action,{icon:w.Icon.CopyClipboard,title:"Copy Answer",shortcut:{modifiers:["cmd","shift"],key:"c"},onAction:()=>qr(C)})),_jsx(w.ActionPanel.Section,{title:"Manage Conversations"},_jsx(w.Action.Push,{icon:w.Icon.PlusCircle,title:"Create New Conversation",shortcut:{modifiers:["cmd"],key:"n"},target:_jsx(ct,null)}),_jsx(w.Action.Push,{icon:w.Icon.Pencil,title:"Rename Current Conversation",shortcut:{modifiers:["opt"],key:"r"},target:_jsx(Mt,null)}),_jsx(w.Action,{icon:w.Icon.ArrowUp,title:"Previous Conversation",shortcut:{modifiers:["cmd","opt"],key:"arrowUp"},onAction:zt}),_jsx(w.Action,{icon:w.Icon.ArrowDown,title:"Next Conversation",shortcut:{modifiers:["cmd","opt"],key:"arrowDown"},onAction:ft})),_jsx(w.ActionPanel.Section,{title:"Danger Zone"},_jsx(w.Action,{icon:w.Icon.RotateClockwise,title:"Reset Chat",shortcut:{modifiers:["opt","shift"],key:"delete"},onAction:me,style:w.Action.Style.Destructive}),_jsx(w.Action,{icon:w.Icon.Trash,title:"Delete Current Conversation",shortcut:{modifiers:["cmd","shift"],key:"delete"},onAction:z,style:w.Action.Style.Destructive}),_jsx(w.Action,{icon:w.Icon.XMarkCircle,title:"Purge Google Bard",onAction:G,style:w.Action.Style.Destructive}))),Fr=C=>{let P=new Date,A=new Date(C);return A.getDate()===P.getDate()&&A.getMonth()===P.getMonth()&&A.getFullYear()===P.getFullYear()?`${A.getHours().toString().padStart(2,"0")}:${A.getMinutes().toString().padStart(2,"0")}`:`${(A.getMonth()+1).toString().padStart(2,"0")}/${A.getDate().toString().padStart(2,"0")}/${A.getFullYear()}`},Nt=()=>f?_jsx(w.List.Dropdown,{tooltip:"Select conversation...",value:a,onChange:async C=>{n(C),_(M.Toast.Style.Success,`Set conversation to "${C}"`)}},o.map(({name:C},P)=>_jsx(w.List.Dropdown.Item,{key:C+P,title:C,value:C}))):null;return _jsx(w.List,{searchText:b,onSearchTextChange:v,navigationTitle:"Chat With AI",searchBarPlaceholder:"Ask Bard something...",isShowingDetail:R&&d().questions.length!==0,actions:_jsx(Qe,null),searchBarAccessory:_jsx(Nt,null)},(()=>R?f?q&&d().questions.length===0?_jsx(w.List.EmptyView,{icon:w.Icon.Clock,title:"Please wait."}):d().questions.length===0?_jsx(w.List.EmptyView,{icon:w.Icon.Stars,title:"Ask away. Bard is ready."}):d().questions.map(({question:C,response:P,metadata:A},H)=>_jsx(w.List.Item,{accessories:[{text:`${Fr(A.date)}`}],key:C+H,title:C,actions:_jsx(Qe,{response:P}),detail:_jsx(w.List.Item.Detail,{markdown:`**${C}**

${P}`})})):_jsx(w.List.EmptyView,{icon:w.Icon.Stars,title:"Bard is loading..."}):_jsx(w.List.EmptyView,{icon:w.Icon.WifiDisabled,title:"Bard failed to connect"}))())}
/*! Bundled license information:

fetch-blob/index.js:
  (*! fetch-blob. MIT License. Jimmy Wärting <https://jimmy.warting.se/opensource> *)

formdata-polyfill/esm.min.js:
  (*! formdata-polyfill. MIT License. Jimmy Wärting <https://jimmy.warting.se/opensource> *)

node-domexception/index.js:
  (*! node-domexception. MIT License. Jimmy Wärting <https://jimmy.warting.se/opensource> *)
*/
